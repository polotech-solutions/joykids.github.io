

<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Your Shopping Cart</title>
	<meta charset="UTF-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <!--<link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">-->
        <meta property="og:image" content="https://www.fatfreecartpro.com/ej/images/fatfreecart/og-image.jpg">
        <link rel="apple-touch-icon" sizes="180x180" href="https://www.fatfreecartpro.com/ej/images/fatfreecart/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="https://www.fatfreecartpro.com/ej/images/fatfreecart/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="https://www.fatfreecartpro.com/ej/images/fatfreecart/favicon-16x16.png">
        <link rel="manifest" href="https://www.fatfreecartpro.com/ej/images/fatfreecart/site.webmanifest">
        <link rel="mask-icon" href="https://www.fatfreecartpro.com/ej/images/fatfreecart/safari-pinned-tab.svg" color="#5bbad5">
        <meta name="msapplication-TileColor" content="#da532c">
        <meta name="theme-color" content="#ffffff">
        <script src="https://unpkg.com/ionicons@4.4.6/dist/ionicons.js"></script>
        <link href="https://fonts.googleapis.com/css?family=Lato|Open+Sans|Roboto" rel="stylesheet">
    </head>
    <body>
<script type='text/javascript'>
var EJConfig = {"theme":"theme6","language":"english","layout":"popup","behaviour":"normal","themeColor":null}
 EJConfig.standalone = true;
EJConfig.themeColor = '49, 152, 223';
const EJPayload = {"Cart":{"Items":[{"cart_item_id":116046114,"sub_item_id":111094,"item_number":111094,"item_name":"Bed Time Meditations - MP3 album download","option_1":"","option_2":"","option_3":"","option_selection1":"","option_selection2":"","option_selection3":"","option_name1":"","option_name2":"","option_name3":"","item_price":"9.95","cart_price":"9.95","thumbnail":"https:\/\/www.e-junkie.com\/ej\/images\/no_image_available.jpeg","quantity":1,"properties":{"variable_quantity":true,"variable_price":false,"needs_shipping":false,"needs_subscription":false}},{"cart_item_id":116046202,"sub_item_id":111092,"item_number":111092,"item_name":"Mermaids and Fairy Dust - MP3 album download","option_1":"","option_2":"","option_3":"","option_selection1":"","option_selection2":"","option_selection3":"","option_name1":"","option_name2":"","option_name3":"","item_price":"9.95","cart_price":"9.95","thumbnail":"https:\/\/www.e-junkie.com\/ej\/images\/no_image_available.jpeg","quantity":1,"properties":{"variable_quantity":true,"variable_price":false,"needs_shipping":false,"needs_subscription":false}}],"Metadata":{"id":94014468,"md5":"263bd9c3b9055bf03c5eec062b4b54e5","currency":"GBP","short_url":"https:\/\/fatfreecartpro.com\/l\/SdoY2gEW","shipping":{"zipcode":null,"country":null,"default_country":null,"shipping_internal":false,"shipping":false,"shipping_calculated":false,"no_zipcode_countries":null,"amount":null,"option_selected":null,"options":[]},"tax":{"tax":false,"amount":null},"discount":{"discount_codes_internal":true,"discount_codes":true,"discount_codes_applied":null,"amount":null},"total":{"cart_total":19.9,"total":"19.90","minimum_total":0}},"Errors":[],"Checkout":{"cash_on_delivery":{"status":false,"endpoint":"https:\/\/www.e-junkie.com\/ecom\/ccv3\/?client_id=20081&cart_id=94014468&cart_md5=263bd9c3b9055bf03c5eec062b4b54e5&page_ln=en&jsod=&cb=1555325443&cash=1","countries":[]},"paypal":{"status":true,"endpoint":"https:\/\/www.e-junkie.com\/ecom\/standard.php?client_id=20081&cart_id=94014468&cart_md5=263bd9c3b9055bf03c5eec062b4b54e5&page_ln=en&jsod=&cb=1555325443"},"cc":{"status":false,"endpoint":"https:\/\/www.e-junkie.com\/ecom\/ccv3\/?client_id=20081&cart_id=94014468&cart_md5=263bd9c3b9055bf03c5eec062b4b54e5&page_ln=en&jsod=&cb=1555325443"},"paytm":{"status":false,"endpoint":"https:\/\/www.e-junkie.com\/ecom\/ccv3\/?client_id=20081&cart_id=94014468&cart_md5=263bd9c3b9055bf03c5eec062b4b54e5&page_ln=en&jsod=&cb=1555325443&paytm=1"},"paypal_credit":{"status":false,"endpoint":"https:\/\/www.e-junkie.com\/ecom\/standard.php?client_id=20081&cart_id=94014468&cart_md5=263bd9c3b9055bf03c5eec062b4b54e5&page_ln=en&jsod=&cb=1555325443&pp_credit=true"},"freecheckout":{"status":false,"endpoint":"https:\/\/www.e-junkie.com\/ecom\/ccv3\/?client_id=20081&cart_id=94014468&cart_md5=263bd9c3b9055bf03c5eec062b4b54e5&page_ln=en&jsod=&cb=1555325443"}},"Countries":null},"Client":{"name":"Calm for Kids","logo":"https:\/\/www.e-junkie.com\/ecom\/spacer.gif","client_id":"20081"}};
const EJLanguages = {"english":{"cart":"Your Cart","quantity":"Quantity","remove":"Remove","total":"Total","continue-shopping":"Continue Shopping","add-promo-code":"Add Promo Code","apply":"Apply","promo-code":"Promo Code","tax":"Tax","shipping":"Shipping","calculate-tax-shipping":"Calculate Shipping\/Tax","country":"Country","postcode":"ZIP\/Postal Code","proceed-to-pay":"Proceed To Pay","paypal":"Pay Using PayPal","paypal-desc":"Fast, easy and secure","paypal-credit":"Pay using PayPal Credit","paypal-credit-desc":"Get 6 Months to pay on $99+","cc":"Pay using Debit \/ Credit Card","cc-desc":"Visa, AMEX, MasterCard, Maestro, Discover","paytm":"Pay using Paytm","paytm-desc":"Credit\/Debit Card, Paytm Wallet, UPI","freecheckout":"Free Checkout","freecheckout-desc":"","cash-on-delivery":"Pay by Cash on Delivery","cash-on-delivery-desc":"","user-text":"","checkout":"Checkout","same-shipping-billing":"Same Billing and Shipping Address","billing-details":"Billing Details","shipping-details":"Shipping Details","email":"Email","email-confirm":"Confirm Email","billing-name":"Name On Card","shipping-name":"Ship To","company":"Company","address1":"Address Line 1","address2":"Address Line 2","city":"City","state":"State","phone":"Phone","optin-text":"Subscribe for Newsletter and Updates","payment":"Payment","user-text-cc":""}}
</script>
<style>
/*! normalize.css v8.0.0 | MIT License | github.com/necolas/normalize.css */
html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}button,[type="button"],[type="reset"],[type="submit"]{-webkit-appearance:button}button::-moz-focus-inner,[type="button"]::-moz-focus-inner,[type="reset"]::-moz-focus-inner,[type="submit"]::-moz-focus-inner{border-style:none;padding:0}button:-moz-focusring,[type="button"]:-moz-focusring,[type="reset"]:-moz-focusring,[type="submit"]:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type="checkbox"],[type="radio"]{box-sizing:border-box;padding:0}[type="number"]::-webkit-inner-spin-button,[type="number"]::-webkit-outer-spin-button{height:auto}[type="search"]{-webkit-appearance:textfield;outline-offset:-2px}[type="search"]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}template{display:none}[hidden]{display:none}/*Miligram 1.3.0*/
*,*:after,*:before{box-sizing:inherit}html{box-sizing:border-box;font-size:62.5%}body{color:#606c76;font-family:'Roboto', 'Helvetica Neue', 'Helvetica', 'Arial', sans-serif;font-size:1.6em;font-weight:300;letter-spacing:.01em;line-height:1.6}blockquote{border-left:0.3rem solid #d1d1d1;margin-left:0;margin-right:0;padding:1rem 1.5rem}blockquote *:last-child{margin-bottom:0}.button,button,input[type='button'],input[type='reset'],input[type='submit']{background-color:#9b4dca;border:0.1rem solid #9b4dca;border-radius:.4rem;color:#fff;cursor:pointer;display:inline-block;font-size:1.1rem;font-weight:700;height:3.8rem;letter-spacing:.1rem;line-height:3.8rem;padding:0 3.0rem;text-align:center;text-decoration:none;text-transform:uppercase;white-space:nowrap}.button:focus,.button:hover,button:focus,button:hover,input[type='button']:focus,input[type='button']:hover,input[type='reset']:focus,input[type='reset']:hover,input[type='submit']:focus,input[type='submit']:hover{background-color:#606c76;border-color:#606c76;color:#fff;outline:0}.button[disabled],button[disabled],input[type='button'][disabled],input[type='reset'][disabled],input[type='submit'][disabled]{cursor:default;opacity:.5}.button[disabled]:focus,.button[disabled]:hover,button[disabled]:focus,button[disabled]:hover,input[type='button'][disabled]:focus,input[type='button'][disabled]:hover,input[type='reset'][disabled]:focus,input[type='reset'][disabled]:hover,input[type='submit'][disabled]:focus,input[type='submit'][disabled]:hover{background-color:#9b4dca;border-color:#9b4dca}.button.button-outline,button.button-outline,input[type='button'].button-outline,input[type='reset'].button-outline,input[type='submit'].button-outline{background-color:transparent;color:#9b4dca}.button.button-outline:focus,.button.button-outline:hover,button.button-outline:focus,button.button-outline:hover,input[type='button'].button-outline:focus,input[type='button'].button-outline:hover,input[type='reset'].button-outline:focus,input[type='reset'].button-outline:hover,input[type='submit'].button-outline:focus,input[type='submit'].button-outline:hover{background-color:transparent;border-color:#606c76;color:#606c76}.button.button-outline[disabled]:focus,.button.button-outline[disabled]:hover,button.button-outline[disabled]:focus,button.button-outline[disabled]:hover,input[type='button'].button-outline[disabled]:focus,input[type='button'].button-outline[disabled]:hover,input[type='reset'].button-outline[disabled]:focus,input[type='reset'].button-outline[disabled]:hover,input[type='submit'].button-outline[disabled]:focus,input[type='submit'].button-outline[disabled]:hover{border-color:inherit;color:#9b4dca}.button.button-clear,button.button-clear,input[type='button'].button-clear,input[type='reset'].button-clear,input[type='submit'].button-clear{background-color:transparent;border-color:transparent;color:#9b4dca}.button.button-clear:focus,.button.button-clear:hover,button.button-clear:focus,button.button-clear:hover,input[type='button'].button-clear:focus,input[type='button'].button-clear:hover,input[type='reset'].button-clear:focus,input[type='reset'].button-clear:hover,input[type='submit'].button-clear:focus,input[type='submit'].button-clear:hover{background-color:transparent;border-color:transparent;color:#606c76}.button.button-clear[disabled]:focus,.button.button-clear[disabled]:hover,button.button-clear[disabled]:focus,button.button-clear[disabled]:hover,input[type='button'].button-clear[disabled]:focus,input[type='button'].button-clear[disabled]:hover,input[type='reset'].button-clear[disabled]:focus,input[type='reset'].button-clear[disabled]:hover,input[type='submit'].button-clear[disabled]:focus,input[type='submit'].button-clear[disabled]:hover{color:#9b4dca}code{background:#f4f5f6;border-radius:.4rem;font-size:86%;margin:0 .2rem;padding:.2rem .5rem;white-space:nowrap}pre{background:#f4f5f6;border-left:0.3rem solid #9b4dca;overflow-y:hidden}pre>code{border-radius:0;display:block;padding:1rem 1.5rem;white-space:pre}hr{border:0;border-top:0.1rem solid #f4f5f6;margin:3.0rem 0}input[type='email'],input[type='number'],input[type='password'],input[type='search'],input[type='tel'],input[type='text'],input[type='url'],input[type='color'],input[type='date'],input[type='month'],input[type='week'],input[type='datetime'],input[type='datetime-local'],input:not([type]),textarea,select{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:0.1rem solid #d1d1d1;border-radius:.4rem;box-shadow:none;box-sizing:inherit;height:3.8rem;padding:.6rem 1.0rem;width:100%}input[type='email']:focus,input[type='number']:focus,input[type='password']:focus,input[type='search']:focus,input[type='tel']:focus,input[type='text']:focus,input[type='url']:focus,input[type='color']:focus,input[type='date']:focus,input[type='month']:focus,input[type='week']:focus,input[type='datetime']:focus,input[type='datetime-local']:focus,input:not([type]):focus,textarea:focus,select:focus{border-color:#9b4dca;outline:0}select{background:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="14" viewBox="0 0 29 14" width="29"><path fill="%23d1d1d1" d="M9.37727 3.625l5.08154 6.93523L19.54036 3.625"/></svg>') center right no-repeat;padding-right:3.0rem}select:focus{background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="14" viewBox="0 0 29 14" width="29"><path fill="%239b4dca" d="M9.37727 3.625l5.08154 6.93523L19.54036 3.625"/></svg>')}textarea{min-height:6.5rem}label,legend{display:block;font-size:1.6rem;font-weight:700;margin-bottom:.5rem}fieldset{border-width:0;padding:0}input[type='checkbox'],input[type='radio']{display:inline}.label-inline{display:inline-block;font-weight:normal;margin-left:.5rem}.container{margin:0 auto;max-width:112.0rem;padding:0 2.0rem;position:relative;width:100%}.row{display:flex;flex-direction:column;padding:0;width:100%}.row.row-no-padding{padding:0}.row.row-no-padding>.column{padding:0}.row.row-wrap{flex-wrap:wrap}.row.row-top{align-items:flex-start}.row.row-bottom{align-items:flex-end}.row.row-center{align-items:center}.row.row-stretch{align-items:stretch}.row.row-baseline{align-items:baseline}.row .column{display:block;flex:1 1 auto;margin-left:0;max-width:100%;width:100%}.row .column.column-offset-10{margin-left:10%}.row .column.column-offset-20{margin-left:20%}.row .column.column-offset-25{margin-left:25%}.row .column.column-offset-33,.row .column.column-offset-34{margin-left:33.3333%}.row .column.column-offset-50{margin-left:50%}.row .column.column-offset-66,.row .column.column-offset-67{margin-left:66.6666%}.row .column.column-offset-75{margin-left:75%}.row .column.column-offset-80{margin-left:80%}.row .column.column-offset-90{margin-left:90%}.row .column.column-10{flex:0 0 10%;max-width:10%}.row .column.column-20{flex:0 0 20%;max-width:20%}.row .column.column-25{flex:0 0 25%;max-width:25%}.row .column.column-33,.row .column.column-34{flex:0 0 33.3333%;max-width:33.3333%}.row .column.column-40{flex:0 0 40%;max-width:40%}.row .column.column-50{flex:0 0 50%;max-width:50%}.row .column.column-60{flex:0 0 60%;max-width:60%}.row .column.column-66,.row .column.column-67{flex:0 0 66.6666%;max-width:66.6666%}.row .column.column-75{flex:0 0 75%;max-width:75%}.row .column.column-80{flex:0 0 80%;max-width:80%}.row .column.column-90{flex:0 0 90%;max-width:90%}.row .column .column-top{align-self:flex-start}.row .column .column-bottom{align-self:flex-end}.row .column .column-center{-ms-grid-row-align:center;align-self:center}@media (min-width: 40rem){.row{flex-direction:row;margin-left:-1.0rem;width:calc(100% + 2.0rem)}.row .column{margin-bottom:inherit;padding:0 1.0rem}}a{color:#9b4dca;text-decoration:none}a:focus,a:hover{color:#606c76}dl,ol,ul{list-style:none;margin-top:0;padding-left:0}dl dl,dl ol,dl ul,ol dl,ol ol,ol ul,ul dl,ul ol,ul ul{font-size:90%;margin:1.5rem 0 1.5rem 3.0rem}ol{list-style:decimal inside}ul{list-style:circle inside}.button,button,dd,dt,li{margin-bottom:1.0rem}fieldset,input,select,textarea{margin-bottom:1.5rem}blockquote,dl,figure,form,ol,p,pre,table,ul{margin-bottom:2.5rem}table{border-spacing:0;width:100%}td,th{border-bottom:0.1rem solid #e1e1e1;padding:1.2rem 1.5rem;text-align:left}td:first-child,th:first-child{padding-left:0}td:last-child,th:last-child{padding-right:0}b,strong{font-weight:bold}p{margin-top:0}h1,h2,h3,h4,h5,h6{font-weight:300;letter-spacing:-.1rem;margin-bottom:2.0rem;margin-top:0}h1{font-size:4.6rem;line-height:1.2}h2{font-size:3.6rem;line-height:1.25}h3{font-size:2.8rem;line-height:1.3}h4{font-size:2.2rem;letter-spacing:-.08rem;line-height:1.35}h5{font-size:1.8rem;letter-spacing:-.05rem;line-height:1.5}h6{font-size:1.6rem;letter-spacing:0;line-height:1.4}img{max-width:100%}.clearfix:after{clear:both;content:' ';display:table}.float-left{float:left}.float-right{float:right}input, select, textarea{
	color: #444;
}
.Overlay{
	width: 100%;
	overflow-y: scroll;
    	min-height: 100%;
    	height: auto;
	background-color: rgba(0,0,0,0.8);
	position: fixed;
	top: 0;
	bottom: 0;
	left: 0;
	right: 0;
	font-family: 'Open Sans', 'Roboto';
        padding-top: 5vh;
}
.Container{
	width: 100%;
	max-width: 900px;
	margin: 0 auto;
}
.Header p img{
	height: 40px;
	float: left;
	margin-right: 10px;
}
.Header p{
	font-size: 25px;
	color: #fff;
	width: fit-content;
	display: inline-block;
    margin-bottom: 0px
}
.Header .Close{
	background: transparent;
	display: inline-block;
	float: right;
	font-size: 25px;
    	color: #eee;
    	margin-top: 15px;
    	cursor: pointer;
	transition: all 0.1s ease;
	margin-bottom: 5px;
}
.Header .Close:hover{
	color: #fff;
	transform: scale(1.1);
	transition: all 0.1s ease;
}
.Footer a{
    font-size: 10px;
    margin-top: 20px;
    border: 1px solid #555;
    border-radius: 3px;
    padding: 2px 5px;
    color: #eee;
    margin-bottom: 20px;
    transition: all 0.1s ease;
}
.Footer a ion-icon{
    float: left;
    margin-top: 3px;
    margin-right: 3px;
}
.Footer a:hover{
    border: 1px solid #777;
    color: #fff;
    transition: all 0.1s ease;
}

.LeftColumn, .RightColumn{
	padding: 10px 20px !important;
}
.RightColumn{
	background: #f5f5f7;
    border-top-right-radius: 5px;
    border-bottom-right-radius: 5px;
}

.Cart{
	width: 100%;
	background: #fff;
	clear: both;
	margin: 0 auto;
	margin-top: 10px;
	border-radius: 5px;
	box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);
    	padding: 0px !important;
}

.Cart .row:first-child{
    margin-left: 0px;
    margin-right: 0px;
    width: 100%;
}

.Product-Row{
    margin-top: 5px;
    border-bottom: 1px solid #eeeeeea8;
    padding-bottom: 10px;
    padding-top: 15px;
    clear: both;
}
.Product-Row:last-of-type{
    border-bottom: 0px solid #eeeeeea8;
    padding-bottom: 15px;
}
.Title{
	font-size: 14px;
	color: #606c76;
	font-weight: bold;
	letter-spacing: 0.5px;
	margin-top: 10px;
	margin-bottom: 10px;
}
.Title .Mobile-Only{
	float: left;
	margin-right: 10px;
	margin-top: -3px;
}
.Title .Mobile-Only ion-icon{
	font-size: 22px;
}
.Title .Mobile-Only .Cart-Items-Nos{
    color: #fff;
    width: 18px;
    height: 18px;
    position: absolute;
    top: 10px;
    left: 30px;
    font-size: 12px;
    text-align: center;
    border-radius: 50px;
    z-index: 999;
    padding-top: 1px;
    cursor: pointer;
    color: #fff;
    font-weight: normal;
}
.Col1, .Col2, .Col3{
	display: inline-block;
	vertical-align: top;
	padding: 0px;
}
.Col1{ width: 20%; }
.Col2{ width: 43%; }
.Col3{ width: 33%; }
@media(max-width: 900px){
	.Col1{ width: 20%; }
	.Col2{ width: 32%; }
	.Col3{ width: 32%; float: right; }
	.Col1, .Col2, .Col3{
		padding: 0px 0px;
	}
}

.Product-Desc p, .Product-Prop p{
	font-size: 13px;
	margin: 0px;
	display: inline-block;
}
.Product-Desc p{
	display: block;
}
.Product-Desc h5{
    font-size: 15px;
    color: #444;
    margin: 0 auto;
    margin-bottom: 5px;
    margin-top: 0px;
    line-height: 20px;
}
.Product-Image{
	height: 48px;
	width: 65px;
	border-radius: 4px;
	background-size: cover;
	background-position: center;
	background-repeat: no-repeat;	
	display: inline-block;
	vertical-align: top;
	box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);
}
.Product-Remove {
    margin-top: 5px;
    font-size: 10px;
    background: rgba(238, 238, 238, 0.5);
    color: #999;
    border: transparent;
    padding: 5px 3px;
    height: unset !important;
    line-height: 13px !important;
    transition: all 0.1s ease;
}
.Product-Remove ion-icon{
}
.Product-Prop{
	text-align: right;
}
.Product-Price{
    font-size: 14px !important;
    color: #606c76;
    text-align: right;
    clear: both;
    margin-top: 5px !important;
    width: 100%;
}
.Product-Quantity{
    border: 1px solid #eee;
    border-radius: 5px;
}
.Product-Quantity input{
    text-align: center;
    width: 50px;
    font-size: 12px;
    color: #888;
}
.Product-Quantity ion-icon{
	font-size: 15px;
	background: #efefef;
	padding: 0px 5px;
	cursor: pointer;
}
.Product-Quantity ion-icon, .Product-Quantity input{
	display: inline-block;
	margin: 0 auto;
	height: 30px;
}
.Product-Quantity input{
    border: none;
    padding: 0px 5px !important;
}
.Product-Quantity ion-icon:first-child{
	float: left;
	border-right: 1px solid #eee;
}
.Product-Quantity ion-icon:last-child{
	float: right;
	border-left: 1px solid #eee;
}
.Product-Prop span {
    font-size: 10px;
    display: block;
    width: 100%;
    margin-top: -7px;
    line-height: 0px;
    margin-bottom: 10px;
}
.Product-Price span {
    display: inline-block;
    font-size: 14px;
    float: none;
    width: fit-content;
    margin-left: 2px;
}
.Product-Price input {
    display: inline-block;
    width: 60px;
    padding: 5px 0px;
    height: auto;
    text-align: right;
    padding-right: 5px;
    color: #606c76;
    line-height: 20px;
    margin-bottom: 0px;
    margin-top: 5px;
}
.Product-Price input.readOnly{
    margin-top: 0px;
}
input.readOnly, select.readOnly{
    border: none;
    padding-right: 0px !important;
    background: none !important;
}

.Cart-Prop{
	margin-top: 15px;
}
.Cart-Prop p{
	margin-top: 5px;
	font-size: 13px;
	margin-bottom: 0px;
	clear: both;
	color: #888;
}
.Cart-Prop p span{
	float: right;
	color: #444;
	font-size: 14px;
}

.Cart-Prop .Tags{
	background: #eee;
    border-radius: 10px;
    padding: 2px 10px;
    font-size: 13px;
    cursor: pointer;
    overflow: hidden;
    margin-right: 10px;
    padding-right: 5px;
}
.Cart-Prop .Tags ion-icon{
    position: relative;
    top: 3px;
    font-size: 0px;
    transform: scale(0);
    transition: all 0.1s ease;
}
.Cart-Prop .Tags:hover ion-icon{
    font-size: 16px;
	transform: scale(1);
    transition: all 0.1s ease;
}
.Cart-Prop .Total{
	color: #222;
	margin-top: 15px
}
.Cart-Prop .Total span{
	float: right;
	font-weight: bold;
	color: #4CAF50;
}

.Actions{
	min-height: 35px;
}
.Actions .Continue-Button{
    padding: 2px 10px;
    line-height: 10px;
    font-size: 10px;
    height: 30px;
    background: #666;
    border: 1px solid #555;
    z-index: 99;
    position: relative;
}
.Actions .Apply-Button{
    background: transparent;
    line-height: 10px;
    float: right;
    height: 30px;
    color: #666;
    border: 1px solid #cccc;
    padding: 0px 10px;
    z-index: 99;
    position: relative;
}

.Actions .Promo-Box{
    margin-top: 15px;
    transform: translateY(-60px);
    opacity: 0;
    z-index: 9;
    margin-bottom: -100px;
    float: left;
    clear: both;
}
.Actions .Promo-Box input{
    margin-bottom: 0px;
    float: left;
    font-size: 15px;
    padding-right: 110px;
}
.Actions .Promo-Box button{
    float: right;
    position: relative;
    top: -38px;
    border-top-left-radius: 0px;
    border-bottom-left-radius: 0px;
    background: #666;
    border: none;
}
.User-Text{
    margin-top: 30px;
}
.User-Text p{
    font-family: 'Lato';
    text-align: center;
    font-size: 16px;
}
.Promo-Box.Active{
    transform: translateY(0px);
    transition: all 0.1s ease;
    opacity: 1;
    margin-bottom: -25px;
}
.Shipping-Details .Shipping-Options-Dropdown {
    width: auto;
    float: right;
    padding: 5px;
    height: auto;
    text-align: right;
    color: #444;
    font-size: 14px;
    margin-bottom: 5px;
    padding-right: 25px;
}

/*----------------------------*/

.Fixed-Actions{
    float: right;
    margin-top: 5px;
}
.Fixed-Actions ion-icon{
	font-size: 22px;
	cursor: pointer;
}
.Fixed-Actions .Cart-Items-Nos {
    width: 18px;
    height: 18px;
    position: absolute;
    top: 9px;
    right: 10px;
    font-size: 12px;
    text-align: center;
    border-radius: 50px;
    z-index: 999;
    padding-top: 0px;
    cursor: pointer;
    background: #ff9b00;
    color: #fff;
}
.Shipping-Section p{
	margin: 0 auto;
	width: 50%;
	margin-right: -1%;
	display: inline-block;
	margin-top: 20px;
    font-size: 13px;
    font-weight: normal;
}
.Shipping-Section p:nth-child(2){
	padding: 0px 10px 0px 0px;
}
.Shipping-Section p:nth-child(3){
	padding: 0px 0px 0px 10px;
}
.Shipping-Section input, .Shipping-Section select{
	font-size: 14px;
	margin-top: 5px;
	background-color: #fff;
	padding-right: 25px;
}
.Shipping-Section p ion-icon{
	position: relative;
    float: right;
    top: -43px;
    right: 5px;
    font-size: 20px;
}
.Shipping-Section .Calculate-Button, .Pay-Button{
    width: 100%;
    display: block;
    background: #f2af58;
    clear: both;
    box-shadow: 0 1px 0 0 rgba(46, 86, 153, .15), inset 0 1px 0 0 rgba(46, 86, 153, .1), inset 0 -1px 0 0 rgba(46, 86, 153, .4);
    border: none;
    text-shadow: rgba(0, 0, 0, 0.117647) 0px -1px 0px;
    font-size: 14px;
    transition: all 0.1s ease;
}
.Shipping-Section .Calculate-Button:hover, .Pay-Button{
    transition: all 0.1s ease;
}
.Shipping-Section{
	margin-bottom: 50px;
}

.Payment-Options{
    text-align: center;
    padding-top: 10px;
}
.Payment-Button {
    width: 100%;
    margin-bottom: 10px;
    padding-right: 10px;
    font-size: 14px;
    height: auto;
    line-height: unset;
    padding: 15px 0px 10px 20px;
    border: 1px solid #f2af58;
    border-bottom: 3px solid #f2af58;
    color: #666;
    background: white;
    font-weight: normal;
    background-size: 80px;
    background-repeat: no-repeat;
    background-position: 95% center;
    text-align: left;
    text-transform: none;
    letter-spacing: 0px;
    transition: all 0.1s ease;
    cursor: pointer;
}
.Payment-Button ion-icon{
	float: right;
    margin-top: 15px;
    font-size: 20px;
}
.Payment-Button span {
    display: block;
    text-align: left;
    margin-top: 0px;
    font-size: 12px;
    text-transform: none;
    padding: 5px 0px;
    color: #888;
}
/*.Payment-Button:after{
 * 	content: ">";
 * 	    float: right;
 * 	        margin-top: -45px;
 * 	            margin-right: 10px;
 * 	                font-size: 22px;
 * 	                    color: #f2af58;
 * 	                    }
 * 	                    */
.Payment-Button:hover, .Payment-Button:focus, .Payment-Button:active{
	background-color: #fff !important; 	
	color: #333;
    border: 1px solid #f2af58;
    border-bottom: 3px solid #f2af58;
    transition: all 0.1s ease;
}
.Payment-Button.Paypal{ background-image: url(https://www.e-junkie.com/ecom/restified/paypal.png); }
.Payment-Button.Paypal-Credit{ background-image: url(https://www.fatfreecartpro.com/ecom/restified/PayPal_Credit_Logo.jpeg); }
.Payment-Button.CC{ background-image: url(https://www.e-junkie.com/ecom/restified/cc.png); }
.Payment-Button.Paytm{ background-image: url(https://www.fatfreecartpro.com/ecom/restified/CardsPaytm.png); }
.Payment-Button.Cash{ background-image: url(https://www.fatfreecartpro.com/ecom/restified/cash.png); }
/*.Payment-Button.FreeCheckout{ background-image: url(https://www.fatfreecartpro.com/ecom/restified/CardsPaytm.png); }*/

.Mobile-Only{
	display: none !important;
}
.Desktop-Only{
	display: unset !important;
}

.Popup{
    display: none;
    background: #fff;
    z-index: 999999999;
    color: #444;
    width: fit-content;
    margin: 0 auto;
    padding: 5px 0px;
    border-radius: 5px;
    box-shadow: 0 10px 20px rgba(0,0,0,0.19), 0 6px 6px rgba(0,0,0,0.23);
    min-width: 300px;
    position: fixed;
    top: 0;
    left: 0;
    bottom: 0;
    right: 0;
    height: fit-content;
    margin-top: 15vh;
}
.Popup h5{
    text-align: center;
    font-size: 16px;
    color: #989898de;
    font-weight: normal;
    margin-top: 10px;
    margin-bottom: 5px;
}
.Popup li{
    display: block;
    border-bottom: 1px solid #607d8b29;
    text-align: left;
    padding: 10px 5px;
}
.Popup li a{
    color: #666;
    font-size: 16px;
    cursor: pointer;
    padding-left: 20px;
    width: 100%;
    display: block;
}
.Popup li a:hover{
    color: #333;
}
.Popup ul, .Popup li{
    margin-bottom: 0px;
}
.Popup li:last-child{
    border-bottom: none;
}
.PopupOverlay{
    position: fixed;
    background: rgba(0,0,0,0.5);
    width: 100vw;
    height: 100vh;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    z-index: 999;
    display: none;
}
.PopupOverlay.Visible{
    display: block;
}
.Popup.Visible{
    display: table;
}
/*--------mobile rules-------*/
@media(max-width: 700px){
	.Cart > .row{
		display: block;
	}
	.Product-Quantity input {
    		width: calc(100% - 62px);
	}
	.Mobile-Only{
		display: unset !important;
	}
	.Desktop-Only{
		display: none !important;
	}
	.Header{
		padding: 0px 10px;
	}
	.Footer a{
		text-align: center;
		margin-right: 20px;
	}
	.Overlay{
		padding-top: 20px;
		padding-bottom: 20px;
	}
	.Cart{
		margin-top: 10px;
		border-radius: 0px !important;
	}
	.Promo-Box.Active{
		float: none;
		margin-bottom: 60px;
	}
	.Fixed-Actions.Mobile-Only .Cart-Items-Nos{
		display: inline-block;
    		margin-left: -20px;
    		margin-top: 0px;
    		position: relative;
    		top: -13px;
    		left: 5px;
	}
}
/*helper classes*/
.Hidden {
    display: none !important;
}

@media(min-width: 700px){
	.Header .Client-Section{
		display: none;
	}
	.Standalone .Header .Client-Section{
		display: unset;
	}
}

@media(max-width: 700px){
	.Header .Client-Section{
		font-size: 20px;
		width: 100%;
	}
	.Header .Client-Section img{
		height: 30px;
	}
}

.SnackBar{
    visibility: hidden; 
    max-width: 350px;
    min-width: 220px;
    width: fit-content;
    background-color: #191919;
    display: block;
    margin: 0 auto;
    color: #fff;
    text-align: center;
    border-radius: 2px;
    padding: 10px;
    position: fixed;
    z-index: 1;
    left: 0;
    right: 0;
    bottom: 100px;
    box-shadow: 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23);
}
.SnackBar span{
	width: 95%;
	margin: 0 auto;
	font-size: 18px;
}
.SnackBar.Show {
    visibility: visible; 
   -webkit-animation: fadein 0.5s, fadeout 0.5s 4.5s;
   animation: fadein 0.5s, fadeout 0.5s 4.5s;
}
.Close-SnackBar{
    float: right;
    font-size: 20px;
    margin-top: 3px;
    color: #607D8B;
    cursor: pointer;
}
/* Animations to fade the snackbar in and out */
@-webkit-keyframes fadein {
    from {bottom: 0; opacity: 0;} 
    to {bottom: 100px; opacity: 1;}
}

@keyframes fadein {
    from {bottom: 0; opacity: 0;}
    to {bottom: 100px; opacity: 1;}
}

@-webkit-keyframes fadeout {
    from {bottom: 100px; opacity: 1;} 
    to {bottom: 0; opacity: 0;}
}

@keyframes fadeout {
    from {bottom: 100px; opacity: 1;}
    to {bottom: 0; opacity: 0;}
}

@media(max-width: 350px){
	.Product-Image{ max-width: 100%; }
	.Product-Remove { font-size: 8px; }
	.Product-Price input { width: 50px; }
	.Actions .Continue-Button, .Actions .Apply-Button { font-size: 9px; }
	.Product-Desc h5 { font-size: 14px; }
	.Payment-Button span{ padding-right: 94px; white-space: pre-wrap; }
}

/* layout specific css */
.SideBar{	
	padding-top: 10px;
	padding-bottom: 0px;	
	background: transparent;
	padding-left: 10px;
	padding-right: 10px;
	overflow-y: unset;
}
.SideBar .Header, .SideBar .Footer{
	display: none;
}
.SideBar .Cart{
	margin-top: 0px;
 	border-radius: 5px !important;
	box-shadow: 0 10px 20px rgba(0,0,0,0.19), 0 6px 6px rgba(0,0,0,0.23);
}
.RightColumn {
    border-bottom-left-radius: 5px;
}

input:active, input:hover, input:focus, select:active, select:hover, select:focus{
	outline: rgb(49, 152, 223) !important;
	border-color: rgb(49, 152, 223) !important;
}
input:active ~ ion-icon, input:hover ~ ion-icon, input:focus ~ ion-icon, select:active ~ ion-icon, select:hover ~ ion-icon, select:focus ~ ion-icon{
    color: rgb(49, 152, 223) !important;
}
ion-icon:hover{
	color: rgb(49, 152, 223) !important;
}
.Calculate-Button, .Pay-Button{
    background-color: rgb(49, 152, 223) !important;
    box-shadow: 0 2px 10px 0 rgb(49, 152, 223) !important;
}
.Calculate-Button:hover, .Pay-Button:hover{
    box-shadow: 0 4px 16px 0 rgba(49, 152, 223, 0.5) !important;
}
.Cart-Items-Nos{
    background-color: rgb(49, 152, 223) !important;
}
.Payment-Button:hover, .Payment-Button{
    background-color: #fff;
    color: #333;
    border: 1px solid rgb(49, 152, 223);
    border-bottom: 3px solid rgb(49, 152, 223);
}
.Payment-Button:hover{
    box-shadow: 0 2px 5px 0 rgba(49, 152, 223, 0.5) !important;
}
.Language-Selector:hover{
    color: rgb(49, 152, 223);
    border-color: rgb(49, 152, 223);
}
.Opt-In{
	border: 1px solid rgba(49, 152, 223, 0.6);
}
.Opt-In label {
    color: rgb(49, 152, 223);
}
.SnackBar{
	border: 2px solid rgb(49, 152, 223);
}
.Close-SnackBar, .SnackBar span{
	color: rgb(49, 152, 223);
}

</style>

<script id='Cart-Template' type='text/x-template'>
    <div class="Overlay" id="Overlay">        <div class="Container">            <div class="Header">                <p class="Client-Section">                    <img src="{Client-Logo}">                    {Client-Name}                </p>                <abbr title="Close Cart"><ion-icon name="close" class="Close Close-Cart Desktop-Only"></ion-icon></abbr>            </div>            <div class="container Cart">                <div class="row">                    <!-- Products Section -->                    <div class="column one-half LeftColumn">                        <div class="Fixed-Actions Mobile-Only">                            <ion-icon class="Language-Selector" name="ios-globe"></ion-icon>                            <ion-icon class="Share-Dropdown-Button" name="share-alt"></ion-icon>                	    <abbr title="Close Cart"><ion-icon name="close" class="Close-Cart"></ion-icon></abbr>                        </div>                        <h3 class="Title">{ln-cart}				<div class="Mobile-Only">                            		<ion-icon name="ios-cart"></ion-icon>                            		<span class="Cart-Items-Nos">0</span>				</div>			</h3>                        {template-Products}                        <div class="Product-Row Product-{Product-Sequence}">					    <div class="Col1 Product-Desc">                            	<div class="Product-Image" style="background-image: url({Product-Thumbnail})"></div>	                        <button class="Product-Remove" data-item="{Product-Sequence}"><ion-icon name="trash"></ion-icon> {ln-remove}</button>                            </div>				    <div class="Col2 Product-Desc">                                	<h5>{Product-Name}</h5>                               	{template-Product-Options}<p>{Option}</p>{/template-Product-Options}			    </div>				    <div class="Col3 Product-Prop">                                <span>{ln-quantity}</span>                                <p class="Product-Quantity">                                    <ion-icon name="remove" data-action="minus" data-item="{Product-Sequence}" class="Product-Quantity-Minus"></ion-icon>                                    <input type="tel" value="1" data-item="{Product-Sequence}" class="Product-Quantity-Value">                                    <ion-icon name="add" data-action="plus" class="Product-Quantity-Plus"  data-item="{Product-Sequence}"></ion-icon>                                </p>                                <p class="Product-Price"><input type='text' data-item="{Product-Sequence}" class='Product-Price-Value' value='{Product-Price}'><span>{Product-Currency}</span></p>			    </div>                        </div>                        {/template-Products}                        <div class="Cart-Prop">                            <p class="Shipping-Details">{ln-shipping}				<select class="Shipping-Options-Dropdown"></select>                            </p>			    <p class="Tax-Details">{ln-tax}				<span>{Tax}</span>			    </p>                            <p class="Discount-Details">                                {ln-promo-code}                                <span>{Discount-Total}</span>                                <div class="Discount-Codes">                                    {template-Discounts}<span class="Tags Remove-Discount" data-name="{Discount-Name}" data-type="{Discount-Type}">{Discount-Name} <ion-icon name="close-circle"></ion-icon></span>{/template-Discounts}                                </div>                            </p>                            <h5 class="Total">                                {ln-total}                                <span>{Total}</span>                            </h5>                        </div>                        <div class="Actions">                            <button class="Continue-Button Close-Cart" type="button">{ln-continue-shopping}</button>                            <button class="Apply-Button Show-Promo-Code-Button" type="button">{ln-add-promo-code}</button>                            <div class="Promo-Box">                                <input class="Promo-Code-Value" type="text" placeholder="{ln-promo-code}">                                <button type="button" class="Promo-Apply">{ln-apply}</button>                            </div>                        </div>			<div class="User-Text">    				<p>{ln-user-text}</p>			</div>                    </div>                    <!-- Shipping & Payment Section -->                    <div class="column one-half RightColumn">                                                <div class="Fixed-Actions Desktop-Only">                            <ion-icon class="Language-Selector" name="ios-globe"></ion-icon>                            <ion-icon class="Share-Link-Button Copy-Link-Button" name="share"></ion-icon>                            <ion-icon name="ios-cart"></ion-icon>                            <span class="Cart-Items-Nos">0</span>                        </div>                        <div class="Shipping-Section">                            <h3 class="Title">{ln-shipping} / {ln-tax}</h3>                            <p>                                {ln-country}                                <select class="Shipping-Section-Country">                                    <option value="0" selected disabled>Select {ln-country}</option>                                </select>                                <ion-icon class="Hidden" name="ios-arrow-dropdown"></ion-icon>                            </p>                            <p>                                {ln-postcode}                                <input type="text" class="Shipping-Section-Postcode" placeholder="{ln-postcode}">                                <ion-icon name="pin"></ion-icon>                            </p>                            <button type="button" class="Calculate-Button">{ln-calculate-tax-shipping}</button>                        </div>                        <div class="Payment-Section">                            <h3 class="Title">{ln-proceed-to-pay}</h3>                            <div class="Payment-Options">                                <button class="Payment-Button Paypal" data-option="Paypal">                                    {ln-paypal}                                    <span>{ln-paypal-desc}</span>                                </button>                                <button class="Payment-Button Paypal-Credit" data-option="Paypal Credit">                                    {ln-paypal-credit}                                    <span>{ln-paypal-credit-desc}</span>                                </button>                                <button class="Payment-Button CC" data-option="CC">                                    {ln-cc}                                    <span>{ln-cc-desc}</span>                                </button>                                <button class="Payment-Button Paytm" data-option="Paytm">                                    {ln-paytm}                                    <span>{ln-paytm-desc}</span>                                </button>                                <button class="Payment-Button FreeCheckout" data-option="FreeCheckout">                                    {ln-freecheckout}                                    <span>{ln-freecheckout-desc}</span>                                </button>                                <button class="Payment-Button Cash" data-option="Cash">                                    {ln-cash-on-delivery}                                    <span>{ln-cash-on-delivery}</span>                                </button>                            </div>                        </div>                    </div>                </div>                            </div>            <div class="Footer">                <a href="https://www.fatfreecartpro.com" class="float-right"><ion-icon name="lock"></ion-icon> Powered By FatFreeCartPro</a>            </div>            <div class="Popup" id="Language-Dropdown">                <h5>Select Language</h5>                <ul>                    {template-Languages}                    <li><a class='Language-Option' data-language="{Language}">{Language}</a></li>                    {/template-Languages}                </ul>            </div>            <div class="Popup" id="Share-Dropdown">                <h5>Share Cart</h5>                <ul>                    <li><a class="Cart-Share-Link Copy-Link-Button"><ion-icon name="link"></ion-icon> Copy Link</a></li>                    <li><a target="blank" class="Cart-Share-Whatsapp"><ion-icon name="logo-whatsapp"></ion-icon> Whatsapp</a></li>                    <li><a target="blank" class="Cart-Share-Sms"><ion-icon name="ios-text"></ion-icon> SMS</a></li>                </ul>            </div>	    <div class="PopupOverlay"></div>	    <textarea id="ClipboardTextarea" style="position: absolute;transform: scale(0);display: block;"></textarea>		        </div>    </div>    <div id="SnackBar" class="SnackBar">	<ion-icon class="Close-SnackBar" name="close-circle"></ion-icon>	<span></span>    </div>
</script>

<script type='text/javascript'>
//polyfills
if (window.NodeList && !NodeList.prototype.forEach) {
    NodeList.prototype.forEach = function (callback, thisArg) {
        thisArg = thisArg || window;
        for (var i = 0; i < this.length; i++) {
            callback.call(thisArg, this[i], i, this);
        }
    };
}
/*
Cart inline for rendering and all
*/
function CartInline(){
	
	this.Template = document.querySelector("#Cart-Template").innerHTML;
	this.CartDiv = document.createElement("div");
	document.body.appendChild(this.CartDiv)
	this.Payload = null
	this.Request = null
	this.RequestSent = false
	this.EventsArray = []
	this.lastScrollPosition = null
	this.dev = true
	
	this.calculateShippingCalled = false
	
	var self = this

	this.log= function(message){
        	if(this.dev) console.error(message)
    	}

	this.renderCart = function(payload){
		this.Payload = payload
		this.Payload.Cart.Metadata.short_url = this.Payload.Cart.Metadata.short_url+"?s"
		var tempTemplate = this.Template
		tempTemplate = tempTemplate.replace(/{Client-Logo}/g, this.Payload.Client.logo)
		tempTemplate = tempTemplate.replace(/{Client-Name}/g, this.Payload.Client.name)		

		var language = EJLanguages[window.EJConfig.language]
		for(var x in language){
			var reg = new RegExp("{ln-"+x+"}", "g")
			tempTemplate = tempTemplate.replace(reg, language[x])
		}

		tempTemplate = tempTemplate.replace(/{Total}/g, this.Payload.Cart.Metadata.total.total+" "+this.Payload.Cart.Metadata.currency)
		tempTemplate = tempTemplate.replace(/{Discount-Total}/g, "-"+this.Payload.Cart.Metadata.discount.amount)
		tempTemplate = tempTemplate.replace(/{Tax}/g, this.Payload.Cart.Metadata.tax.amount)
		
		var DiscountTemplate = this.getTemplateString(tempTemplate, "Discounts");
		var DiscountTemplateStr = "";
		if(this.Payload.Cart.Metadata.discount.discount_codes_applied){
			this.Payload.Cart.Metadata.discount.discount_codes_applied.forEach(function(y){
				var tdt = DiscountTemplate.replace(/{Discount-Name}/g, (y.name == "" ? "Current Promotion" : y.name))
				DiscountTemplateStr += tdt.replace(/{Discount-Type}/g, y.type)
			})	
		}	
		tempTemplate = this.replaceTemplateString(tempTemplate, "Discounts", DiscountTemplateStr)

		var ProductsTemplate = this.getTemplateString(tempTemplate, "Products")
		var ProductOptionsTemplate = this.getTemplateString(tempTemplate, "Product-Options")
		var ProductsTemplateStr = ""
		if(this.Payload.Cart.Items){
			this.Payload.Cart.Items.forEach(function(y, i){
				var str = ProductsTemplate.replace(/{Product-Thumbnail}/g, y.thumbnail)
				str = str.replace(/{Product-Name}/g, y.item_name)
				str = str.replace(/{Product-Sequence}/g, i)
				str = str.replace(/{Product-Price}/g, y.cart_price)
				str = str.replace(/{Product-Currency}/g, self.Payload.Cart.Metadata.currency)
				var optionsStr = "";
				if(y.option_selection1 != "") optionsStr = optionsStr + ProductOptionsTemplate.replace(/{Option}/g, y.option_name1+": "+y.option_selection1)
				if(y.option_selection2 != "") optionsStr = optionsStr + ProductOptionsTemplate.replace(/{Option}/g, y.option_name2+": "+y.option_selection2)
				if(y.option_selection3 != "") optionsStr = optionsStr + ProductOptionsTemplate.replace(/{Option}/g, y.option_name3+": "+y.option_selection3)
				if(y.option_1 != "") optionsStr = optionsStr + ProductOptionsTemplate.replace(/{Option}/g, y.option_1)
				if(y.option_2 != "") optionsStr = optionsStr + ProductOptionsTemplate.replace(/{Option}/g, y.option_2)
				if(y.option_3 != "") optionsStr = optionsStr + ProductOptionsTemplate.replace(/{Option}/g, y.option_3)
				str = self.replaceTemplateString(str, "Product-Options", optionsStr) 
				ProductsTemplateStr += str
			})
		}
		//just remove the Product-Options template first, as it breaks the regex for product template
		tempTemplate = this.replaceTemplateString(tempTemplate, "Product-Options", "")
		tempTemplate = this.replaceTemplateString(tempTemplate, "Products", ProductsTemplateStr)	
			
		var LanguageTemplate = this.getTemplateString(tempTemplate, "Languages")
		var str = ""
		for(var x in EJLanguages)
			str = str + LanguageTemplate.replace(/{Language}/g, x.toUpperCase())
		tempTemplate = this.replaceTemplateString(tempTemplate, "Languages", str)	
		
		this.CartDiv.innerHTML = tempTemplate
		this.insertCountries()
		this.sanitizeCart()
		this.initializeRequest()
		this.sendMessage({event: "Cart Loaded", data: this.Payload})
		if(!this.Payload.Cart.Items){
			document.querySelectorAll(".Fixed-Actions").forEach(function(y){
				self.addClassName(y, "Hidden")
			})
			self.addClassName(document.querySelector(".Total"), "Hidden")
			self.addClassName(document.querySelector(".Payment-Section"), "Hidden")
			document.querySelector(".Title").innerHTML = "Your Cart is empty"
		}
		if(window.EJConfig.hideClose)
			document.querySelectorAll(".Close-Cart").forEach(function(y){
				self.addClassName(y, "Hidden")
			})
		document.querySelectorAll(".Language-Selector").forEach(function(y){
			self.addClassName(y, "Hidden")
		})
		if(window.EJConfig.standalone)
			this.addClassName(document.querySelector("#Overlay"), "Standalone")

		if(window.EJConfig.layout == "sidebar"){
			this.addClassName(document.querySelector(".Overlay"), "SideBar")
			setInterval(function(){
                                self.sendMessage({event: "Window Resize", data: document.querySelector(".Cart").offsetHeight})
                        }, 100)
		}

		if(this.Payload.Cart.Errors.length){
			var str = ""
			this.Payload.Cart.Errors.forEach(function(y){
				str = str + y + "<br/>"
			})
			this.toggleSnackBar(true, str)
		}

		if(this.calculateShippingCalled && this.Payload.Cart.Metadata.shipping.shipping_calculated)
			document.querySelector(".Overlay").scrollTo(null, document.querySelector(".Shipping-Options-Dropdown").clientHeight)
		else if(this.lastScrollPosition)
			document.querySelector(".Overlay").scrollTo(null, this.lastScrollPosition)
		return true
	}

	this.sanitizeCart = function(){

		if(this.Payload.Cart.Items){
                        this.Payload.Cart.Items.forEach(function(y, i){
				if(y.thumbnail);
				else self.addClassName(document.querySelectorAll(".Product-Image")[i], "Hidden")
			})
		}
	
		//if discount is required then show the fields or else just hide
		if(this.Payload.Cart.Metadata.discount.discount_codes_internal){
			document.querySelectorAll(".Show-Promo-Code-Button").forEach(function(y){
				y.style.display = ""
			})
		}
		else{
			document.querySelectorAll(".Show-Promo-Code-Button").forEach(function(y){
				y.style.display = "none"
			})
		}

		//if shipping is required or else hide it
		if(this.Payload.Cart.Metadata.shipping.shipping_internal){
			document.querySelectorAll(".Shipping-Section").forEach(function(y){
				y.style.display = ""
			})
			document.querySelectorAll(".Shipping-Details").forEach(function(y){
				y.style.display = ""
			})
		}
		else{
			document.querySelectorAll(".Shipping-Section").forEach(function(y){
				y.style.display = "none"
			})
			document.querySelectorAll(".Shipping-Details").forEach(function(y){
				y.style.display = "none"
			})
		}

		//if tax is required or else hide it
		if(this.Payload.Cart.Metadata.tax.tax && this.Payload.Cart.Metadata.tax.amount != null){
			document.querySelectorAll(".Tax-Details").forEach(function(y){
				y.style.display = ""
			})
		}
		else{
			document.querySelectorAll(".Tax-Details").forEach(function(y){
				y.style.display = "none"
			})
		}

		//toggle payment options
		if(this.Payload.Cart.Checkout.cash_on_delivery.status)
			document.querySelector(".Payment-Button.Cash").style.display = ""
		else
			document.querySelector(".Payment-Button.Cash").style.display = "none"

		if(this.Payload.Cart.Checkout.cc.status)
			document.querySelector(".Payment-Button.CC").style.display = ""
		else
			document.querySelector(".Payment-Button.CC").style.display = "none"

		if(this.Payload.Cart.Checkout.freecheckout.status)
			document.querySelector(".Payment-Button.FreeCheckout").style.display = ""
		else
			document.querySelector(".Payment-Button.FreeCheckout").style.display = "none"

		if(this.Payload.Cart.Checkout.paytm.status)
			document.querySelector(".Payment-Button.Paytm").style.display = ""
		else
			document.querySelector(".Payment-Button.Paytm").style.display = "none"

		if(this.Payload.Cart.Checkout.paypal.status){
			document.querySelector(".Payment-Button.Paypal").style.display = ""
			if(!this.Payload.Cart.Checkout.cc.status){
				document.querySelector(".Payment-Button.Paypal").querySelector("span").innerHTML = "Pay with PayPal, Debit or Credit Card"
				document.querySelector(".Payment-Button.Paypal").style.backgroundImage = "url('https://www.e-junkie.com/ecom/restified/paypal_cards.jpg')"
			}
		}
		else
			document.querySelector(".Payment-Button.Paypal").style.display = "none"

		if(this.Payload.Cart.Checkout.paypal_credit.status)
			document.querySelector(".Payment-Button.Paypal-Credit").style.display = ""
		else
			document.querySelector(".Payment-Button.Paypal-Credit").style.display = "none"

		var totalItems = 0;
		if(this.Payload.Cart.Items){
			this.Payload.Cart.Items.forEach(function(y){
				totalItems = totalItems + parseInt(y.quantity)
			})
		}
		document.querySelectorAll(".Cart-Items-Nos").forEach(function(y){
			y.innerHTML = totalItems
		})

		if(this.Payload.Cart.Metadata.shipping.zipcode != "")
			document.querySelector(".Shipping-Section-Postcode").value = this.Payload.Cart.Metadata.shipping.zipcode
		else
			document.querySelector(".Shipping-Section-Postcode").value = ""

		if(this.Payload.Cart.Metadata.shipping.country)
			document.querySelector(".Shipping-Section-Country").value = this.Payload.Cart.Metadata.shipping.country
		else if(this.Payload.Cart.Metadata.shipping.default_country)
			document.querySelector(".Shipping-Section-Country").value = this.Payload.Cart.Metadata.shipping.default_country
		else
			document.querySelector(".Shipping-Section-Country").value = "0"

		//check if any discount is applied or else just hide the thing
		if(this.Payload.Cart.Metadata.discount.amount == null)
			document.querySelector(".Discount-Details").style.display = "none"
		else
			document.querySelector(".Discount-Details").style.display = ""

		//check for shipping options
		if(this.Payload.Cart.Metadata.shipping.shipping_internal && this.Payload.Cart.Metadata.shipping.shipping_calculated && this.Payload.Cart.Metadata.shipping.options.length > 0){
			var str = ""
			this.Payload.Cart.Metadata.shipping.options.forEach(function(y){
				str = str+ "<option value='"+(y.method_id ? y.method_id : "")+"'>"+y.shipping
				if(y.method_desc && y.method_desc != "")
					str = str+" ("+y.method_desc+")"
				str = str + "</option>"
			})
			document.querySelector(".Shipping-Options-Dropdown").innerHTML = str
			if(this.Payload.Cart.Metadata.shipping.option_selected)
				document.querySelector(".Shipping-Options-Dropdown").value = this.Payload.Cart.Metadata.shipping.option_selected
			else if(document.querySelector(".Shipping-Options-Dropdown").options[0])
				document.querySelector(".Shipping-Options-Dropdown").value = document.querySelector(".Shipping-Options-Dropdown").options[0].value
			if(this.Payload.Cart.Metadata.shipping.options.length == 1){
				this.addClassName(document.querySelector(".Shipping-Options-Dropdown"), "readOnly")
				document.querySelector(".Shipping-Options-Dropdown").disabled = true
			}
			else{
				this.removeClassName(document.querySelector(".Shipping-Options-Dropdown"), "readOnly")
				document.querySelector(".Shipping-Options-Dropdown").disabled = false
			}
			document.querySelector(".Shipping-Details").style.display = ""
		}else{
			document.querySelector(".Shipping-Details").style.display = "none"
		}

		//item wise sanitization
		if(this.Payload.Cart.Items){
			this.Payload.Cart.Items.forEach(function(y, index){
				if(y.properties.variable_quantity){
					document.querySelector(".Product-"+index).querySelector(".Product-Quantity-Minus").style.display = ""
					document.querySelector(".Product-"+index).querySelector(".Product-Quantity-Value").value = y.quantity
					document.querySelector(".Product-"+index).querySelector(".Product-Quantity-Value").readOnly = false
					self.removeClassName(document.querySelector(".Product-"+index).querySelector(".Product-Quantity-Value"), "readOnly")
					document.querySelector(".Product-"+index).querySelector(".Product-Quantity-Plus").style.display = ""
				}else{
					document.querySelector(".Product-"+index).querySelector(".Product-Quantity-Minus").style.display = "none"
					document.querySelector(".Product-"+index).querySelector(".Product-Quantity-Value").value = y.quantity
					document.querySelector(".Product-"+index).querySelector(".Product-Quantity-Value").readOnly = true
					self.addClassName(document.querySelector(".Product-"+index).querySelector(".Product-Quantity-Value"), "readOnly")
					document.querySelector(".Product-"+index).querySelector(".Product-Quantity-Plus").style.display = "none"
				}

				if(y.properties.variable_price){
					self.removeClassName(document.querySelector(".Product-"+index).querySelector(".Product-Price-Value"), "readOnly")
					document.querySelector(".Product-"+index).querySelector(".Product-Price-Value").readOnly = false
				}else{
					self.addClassName(document.querySelector(".Product-"+index).querySelector(".Product-Price-Value"), "readOnly")
					document.querySelector(".Product-"+index).querySelector(".Product-Price-Value").readOnly = true
				}			
			})
		}

		document.querySelector(".Cart-Share-Whatsapp").href = "https://api.whatsapp.com/send?phone=&text="+encodeURIComponent(this.Payload.Cart.Metadata.short_url);
		document.querySelector(".Cart-Share-Sms").href = "sms:?body="+(this.Payload.Cart.Metadata.short_url);

		//attach all onchange events
		this.attachEvent(".Shipping-Section-Country", "change", "calculateShipping")
		this.attachEvent(".Shipping-Section-Postcode", "change", "calculateShipping")
		this.attachEvent(".Product-Price-Value", "change", "updatePrice")
		this.attachEvent(".Product-Quantity-Value", "change", "updateQuantity")
		this.attachEvent(".Promo-Code-Value", "change", "addPromoCode")
		this.attachEvent(".Shipping-Options-Dropdown", "change", "calculateShipping")

		this.attachEvent(".Promo-Apply", "click", "addPromoCode")
		this.attachEvent(".Calculate-Button", "click", "calculateShipping")
		this.attachEvent(".Product-Quantity-Minus", "click", "updateQuantity")
		this.attachEvent(".Product-Quantity-Plus", "click", "updateQuantity")
		this.attachEvent(".Product-Remove", "click", "removeProduct")
		this.attachEvent(".Remove-Discount", "click", "removeDiscount")
		this.attachEvent(".Show-Promo-Code-Button", "click", "togglePromoBox")
		this.attachEvent(".Close-Cart", "click", "closeCart")
		this.attachEvent(".Copy-Link-Button", "click", "copyLinkToClipboard")
		this.attachEvent(".Language-Selector", "click", "toggleLanguageDialog")
		this.attachEvent(".Share-Dropdown-Button", "click", "toggleShareDialog")
		this.attachEvent(".Payment-Button", "click", "proceedToPay")
		this.attachEvent(".Language-Option", "click", "updateLanguage")
		this.attachEvent(".PopupOverlay", "click", "toggleDialog")
		this.attachEvent(".Close-SnackBar", "click", "toggleSnackBar")

		return true
	}

	this.calculateShipping = function(e){
		this.calculateShippingCalled = true
		var isButtonCall = false;
		if(e)
			if(e.type == "click")
				isButtonCall = true

		if(document.querySelector(".Shipping-Section-Country").value == "0"){
			document.querySelector(".Shipping-Section-Country").focus()
			if(isButtonCall) this.toggleSnackBar(true, "Please Select Country");
			return false
		}
		if(this.Payload.Cart.Metadata.shipping.no_zipcode_countries.indexOf(document.querySelector(".Shipping-Section-Country").value) != -1)	
			document.querySelector(".Shipping-Section-Postcode").value = "None"
		else if(document.querySelector(".Shipping-Section-Postcode").value == "None")
			document.querySelector(".Shipping-Section-Postcode").value = ""
			
		if(document.querySelector(".Shipping-Section-Postcode").value == ""){
			document.querySelector(".Shipping-Section-Postcode").focus()
			if(isButtonCall) this.toggleSnackBar(true, "Please Enter PostCode");
			return false
		}
		this.sendRequest()
 		return true
	}

	this.proceedToPay = function(e){
		if((this.Payload.Cart.Metadata.shipping.shipping || this.Payload.Cart.Metadata.tax.tax) && this.Payload.Cart.Metadata.shipping.shipping_calculated == false){
			this.calculateShipping()
			this.toggleSnackBar(true, "Please Calculate Shipping");	
			return false
		}
		else{
			var ele = e.target
			if(ele.className.indexOf("Payment-Button") == -1) ele = ele.parentElement
			var processor = ele.getAttribute("data-option")
			var url = null
			if(processor == "CC") url = this.Payload.Cart.Checkout.cc.endpoint
			else if(processor == "Cash") url = this.Payload.Cart.Checkout.cash_on_delivery.endpoint
			else if(processor == "Paypal") url = this.Payload.Cart.Checkout.paypal.endpoint
			else if(processor == "Paypal Credit") url = this.Payload.Cart.Checkout.paypal_credit.endpoint
			else if(processor == "FreeCheckout") url = this.Payload.Cart.Checkout.freecheckout.endpoint
			else if(processor == "Paytm") url = this.Payload.Cart.Checkout.paytm.endpoint
			if(url) url = url + "&pref=" + encodeURIComponent(JSON.stringify(EJConfig))
			this.sendMessage({event: "Proceed Payment", data: { processor: processor, url: url }})
		}
		return true
	}

	this.addPromoCode = function(e){
		if(document.querySelector(".Promo-Code-Value").value != "")
			this.sendRequest()
		return true
	}

	this.removeDiscount = function(e){
		document.querySelector(".Promo-Code-Value").value = ""
		var tr = null
		if(e.target.getAttribute("data-name")) tr = e.target
		else tr = e.target.parentElement
		this.Request.rc = tr.getAttribute("data-name")
		this.Request.rct = tr.getAttribute("data-type")
		this.sendRequest()
		return true
	}

	this.updateQuantity = function(e){
		var action = e.target.getAttribute("data-action")
		var item = e.target.getAttribute("data-item")
		if(action == "plus")
			this.Request.quantity_array[item] = parseInt(this.Request.quantity_array[item]) + 1
		else if(action == "minus")
			this.Request.quantity_array[item] = parseInt(this.Request.quantity_array[item]) - 1
		else
			this.Request.quantity_array[item] = document.querySelectorAll(".Product-Quantity-Value")[item].value

		if(parseInt(this.Request.quantity_array[item]) < 0) 
			this.Request.quantity_array[item] = 0

		this.sendRequest()
		return true
	}

	this.updatePrice = function(e){
		var item = e.target.getAttribute("data-item")
		if(this.Payload.Cart.Items[item].properties.variable_price){
			this.Request.cart_item_price_array[item] = Number(e.target.value.replace(/[^0-9\.-]+/g,""));
			this.sendRequest()
			return true
		}
		return false
	}

	this.removeProduct = function(e){
		this.Request.remove_array[e.target.getAttribute("data-item")] = "1"
		this.sendRequest()
	}

	this.initializeRequest = function(e){
		this.Request = {}
		this.Request.cachebuster = + new Date()
        	this.Request.cart_id = this.Payload.Cart.Metadata.id		  
        	this.Request.cart_md5 = this.Payload.Cart.Metadata.md5		  
        	this.Request.cart_currency = this.Payload.Cart.Metadata.currency
        	this.Request.cl = this.Payload.Client.client_id;
        	this.Request.ejc = "2";
        	this.Request.json = true

        	//item specific request vars
    		this.Request.ci_id_array = []
		this.Request.sub_item_id_array = []
		this.Request.item_number_array = []
		this.Request.cart_item_price_array = []
		this.Request.total_item_price_array = []
		this.Request.remove_array = []
		this.Request.quantity_array = []

		if(this.Payload.Cart.Items){
        		this.Payload.Cart.Items.forEach(function(y){
        			self.Request.ci_id_array.push(y.cart_item_id)
				self.Request.sub_item_id_array.push(y.sub_item_id)
				self.Request.item_number_array.push(y.item_number)
				self.Request.cart_item_price_array.push("")
				self.Request.total_item_price_array.push(y.cart_price )
				self.Request.remove_array.push("0")
				self.Request.quantity_array.push(y.quantity)
        		})
		}
        	return true;
	}

	this.prepareRequest = function(cb){
		this.Request.discount_code = document.querySelector(".Promo-Code-Value").value
		if(this.Payload.Cart.Metadata.shipping.shipping || this.Payload.Cart.Metadata.tax.tax){
			this.Request.to_country = document.querySelector(".Shipping-Section-Country").value
			this.Request.zipcode = document.querySelector(".Shipping-Section-Postcode").value
		}
		if(this.Payload.Cart.Metadata.shipping.shipping)
			this.Request.shp_mthd = document.querySelector(".Shipping-Options-Dropdown").value
		return cb()
	}

	this.convertObjectIntoURL = function(obj){
		var url = "";
		for(var x in obj){
			if(obj[x]){
				if(obj[x].constructor === Array)
					for(var y = 0; y < obj[x].length; y++)
						url += "&" + x + "[]=" + encodeURIComponent(obj[x][y])
				else url += "&" + x + "=" + encodeURIComponent(obj[x])
			}
		}				
		return url
	}
	
	this.sendRequest = function(){
		if(this.RequestSent) return false
		this.lastScrollPosition = document.querySelector(".Overlay").scrollTop
		this.RequestSent = true;
		this.sendMessage({event: "Cart Updating", data: this.Payload})
		this.prepareRequest(function(){
			var url = "/ecom/gbv3.php?"
			url = url + self.convertObjectIntoURL(self.Request)
			var xhttp = self.XHR()
			if(xhttp){
  				xhttp.onreadystatechange = function() {
    					if (this.readyState == 4 && this.status == 200) {
 	    					self.renderCart(JSON.parse(this.responseText));
						self.RequestSent = false
    					}
  				};
  				xhttp.open("GET", url, true);
  				xhttp.send();
			}else{
				//browser doesn't support XHR, load the url in window itself
				//window.location.href = url
				self.log(url)
			}
		})
	}

	this.XHR = function(){ 
		/* returns cross-browser XMLHttpRequest, or null if unable */
    		try {
        		return new XMLHttpRequest();
    		}catch(e){}
    		try {
        		return new ActiveXObject("Msxml3.XMLHTTP");
    		}catch(e){}
    		try {
        		return new ActiveXObject("Msxml2.XMLHTTP.6.0");
    		}catch(e){}
    		try {
        		return new ActiveXObject("Msxml2.XMLHTTP.3.0");
    		}catch(e){}
    		try {
        		return new ActiveXObject("Msxml2.XMLHTTP");
    		}catch(e){}
    		try {
        		return new ActiveXObject("Microsoft.XMLHTTP");
    		}catch(e){}
    		return null;
	}

	this.closeCart = function(e){
		this.sendMessage({event: "Close Cart", data: null})
		this.removeAllEvents()
		return true;
	}

	this.togglePromoBox = function(e){
		if(document.querySelector(".Promo-Box").className.indexOf("Active") == -1){
			this.addClassName(document.querySelector(".Promo-Box"), "Active")
			document.querySelector(".Promo-Code-Value").focus()
		}else
			this.removeClassName(document.querySelector(".Promo-Box"), "Active")
	}

	this.addClassName = function(ele, cn){
		if(ele.className.indexOf(cn) == -1) //not present - add
			ele.className = ele.className + " " +cn
		else;
	}

	this.removeClassName = function(ele, cn){
		if(ele.className.indexOf(cn) == -1); //not present
		else  //present - remove
			ele.className = ele.className.replace(cn, "")
	}

	this.insertCountries = function(){
		if(this.Payload.Cart.Countries){
			var str = "";
			this.Payload.Cart.Countries.forEach(function(y){
				str = str + "<option value='"+y.value+"'>"+y.text+"</option>"
			})
			document.querySelectorAll(".Shipping-Section-Country").forEach(function(y){
				y.innerHTML = y.innerHTML + str
			})
		}
	}

	this.getTemplateString = function(template, name){
		var startString = "{template-"+name+"}"
		var endString = "{/template-"+name+"}"
		return template.substring(template.indexOf(startString)+startString.length, template.indexOf(endString))
	}

	this.replaceTemplateString = function(template, name, string){
		var startString = "{template-"+name+"}"
		var endString = "{/template-"+name+"}"
		var replaceString = template.substring(template.indexOf(startString), template.indexOf(endString))+endString
	        return template.split(replaceString).join(string);	
	}

	this.attachEvent = function(element, ev, fn){
		this.EventsArray.push({
			element: element,
			ev: ev,
			fn: fn
		})
		document.querySelectorAll(element).forEach(function(y){
			if(y.addEventListener){
				y.addEventListener(ev, function(e){ self[fn](e); }, false)
			}else if(y.attachEvent)
				y.attachEvent('on' + ev, function(e){ self[fn](e); });
		})	
	}

	this.removeEvent = function(element, ev){
		this.EventsArray.forEach(function(y, index){
			if(y.ev == ev && y.element == element){
				self.EventsArray.splice(index, 1);
				document.querySelectorAll(y.element).forEach(function(x){
				var fn = y.fn
				if(x.removeEventListener)
                			x.removeEventListener(y.ev, self.propagateEvent.bind(this, fn), false)
	            		else if(x.detachEvent)
            				x.element.detachEvent("on" + y.ev, self.propagateEvent.bind(this, fn));
	        		})
			}
		})
	}

	this.propagateEvent = function(fn){
		var e = window.event || e;
		self[fn](e)
	}

	this.removeAllEvents = function(){
		this.EventsArray.forEach(function(y, index){
			self.removeEvent(y.element, y.ev)
		})
		return true	
	}

	this.toggleLanguageDialog = function(e){
		this.toggleDialog(null, "#Language-Dropdown")
	}

	this.toggleShareDialog = function(e){
		this.toggleDialog(null, "#Share-Dropdown")
	}

	this.toggleDialog = function(e, n){
		if(n){
			this.addClassName(document.querySelector(".PopupOverlay"), "Visible")
			this.addClassName(document.querySelector(n), "Visible")
		}
		else{
			this.removeClassName(document.querySelector(".PopupOverlay"), "Visible")
			document.querySelectorAll(".Popup").forEach(function(y){
				self.removeClassName(y, "Visible")
			})
		}
	}

	this.updateLanguage = function(e){
		window.EJConfig.language = e.target.getAttribute("data-language").toLowerCase()
		this.renderCart(this.Payload)
	}

	this.copyLinkToClipboard = function(e){
		document.querySelector("#ClipboardTextarea").value = this.Payload.Cart.Metadata.short_url;
		if (navigator.userAgent.match(/ipad|ipod|iphone/i)){
			var range = document.createRange();
			document.querySelector("#ClipboardTextarea").contentEditable = true
			document.querySelector("#ClipboardTextarea").readOnly = false
			range.selectNodeContents(document.querySelector("#ClipboardTextarea"));
			var s = window.getSelection();
    			s.removeAllRanges();
    			s.addRange(range);
    			document.querySelector("#ClipboardTextarea").setSelectionRange(0, 999999); // A big number, to cover anything that could be inside the element.
			document.execCommand('copy');
			document.querySelector("#ClipboardTextarea").contentEditable = false
			document.querySelector("#ClipboardTextarea").readOnly = true
		}else{
			document.querySelector("#ClipboardTextarea").select();
                	document.execCommand("copy");
                	document.querySelector("#ClipboardTextarea").blur();
		}	
		this.toggleSnackBar(true, "Link Copied")
	}

	this.sendMessage = function(data){
		var EJCartMessage = {
                	data: data,
                	src: "cart-inline",
        	}
        	window.parent.postMessage({"EJCartMessage": EJCartMessage}, "*")
        	return true;
	}

	this.toggleSnackBar = function(t, m){
		if(typeof t !== "boolean") t = false;
		if(typeof m === "undefined") m = "";
		var ele = document.querySelector("#SnackBar")
		if(t){
			ele.querySelector("span").innerHTML = m
			this.addClassName(ele, "Show")
			setTimeout(function(){ self.toggleSnackBar(false) }, 5000);
		}
		else
			this.removeClassName(ele, "Show")
	}

	// window messaging related code
	this.eventMethod = window.addEventListener ? "addEventListener" : "attachEvent";
	this.eventer = window[this.eventMethod];
	this.messageEvent = this.eventMethod == "attachEvent" ? "onmessage" : "message";

	// bind window messaging event and keyboard event
        window.addEventListener(this.messageEvent, function(e){
            try{
                        if(typeof e.data == "object"){
                                var payload = e.data.EJCartMessage
                                if(payload == null) return false;
				if(payload.src != "cart") return false;
                        }
                        return false;
            }catch(err){ this.log(err); }
        },false);

	window.addEventListener("keyup", function(e){
                if(e.keyCode == 27) {
                        self.closeCart()
                }
        }, false);
}	

if(EJPayload){
	var EJCartInline = new CartInline()
	EJCartInline.renderCart(EJPayload)
}



</script>

<script type='text/javascript'>
/*
Client Side - For handling cookies, window messaging, and opening cart
*/

function EJCartV3(params){

	this.params = {
		standalone: false,
		events: {
			onload: null,
			onclose: null,	
			onopen: null,
			onProceedToPayment: null,
			onThankYou: null,
		},
		//themeColor: "49, 152, 223",
		theme: null,
		language: null,
		layout: "overlay",
		behavior: "normal",
		customLanguage: [],
	}
	
	if(typeof params === "undefined");
	else {
		if(params.standalone == true) this.params.standalone = true
		if(params.language) this.params.language = params.language
		if(params.customLanguage) this.params.customLanguage = params.customLanguage
		if(params.theme) this.params.theme = params.theme
		if(params.themeColor){
			if(params.themeColor.indexOf("rgb(") == -1);
			else this.params.themeColor = params.themeColor.replace("rgb(", "").replace(")", "")
		}
		if(params.layout) if(["overlay", "sidebar"].indexOf(params.layout) != -1) this.params.layout = params.layout  
		if(params.behavior) if(["normal", "minimal"].indexOf(params.behavior) != -1) this.params.behavior = params.behavior
		if(typeof params.onload === "function") this.params.events.onload = params.onload 
		if(typeof params.onclose === "function") this.params.events.onclose = params.onclose
		if(typeof params.onopen === "function") this.params.events.onopen = params.onopen
		if(typeof params.onProceedToPayment === "function") this.params.events.onProceedToPayment = params.onProceedToPayment
		if(typeof params.onThankYou === "function") this.params.events.onThankYou = params.onThankYou
	}

	this.MetaData = {
		facebook: {},
		gtag_js: {},
		analytics_js: {},
		ga_js: {},
	}
	this.clientId = null

	this.cartIframeElement = null
	this.loaderElement = null

	this.historyState = []

	this.isMobile = false
	if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4)))
		this.isMobile = true
	/*
	if (navigator.appVersion.toLowerCase().indexOf("mobile") != -1 ||  navigator.appVersion.toLowerCase().indexOf("mini") != -1 ||  navigator.appVersion.toLowerCase().indexOf("msie 4.") != -1 ||
	    navigator.appVersion.toLowerCase().indexOf("msie 5.") != -1 || navigator.appVersion.toLowerCase().indexOf("msie 6.") != -1 || navigator.appVersion.toLowerCase().indexOf("msie 7.") != -1 ||
	    navigator.appVersion.toLowerCase().indexOf("msie 8.") != -1 || navigator.appVersion.toLowerCase().indexOf("msie 9.") != -1 || navigator.appVersion.toLowerCase().indexOf("msie 10.") != -1)
        this.isMobile = true
	*/

    this.host = {
    	source: window.location.href,
    	secure: (window.location.protocol == "https:" ? true : false),
    }

    this.isIE = (
    	(
    		(window.navigator.userAgent.toLowerCase().indexOf("msie ") > 0 ) ||
    		(window.navigator.userAgent.toLowerCase().indexOf("Trident/") > 0 ) ||
    		(window.navigator.userAgent.toLowerCase().indexOf("Edge/") > 0 )
    	) 
    	? true : false )

    this.isFacebookBrowser = false;
	if(window.navigator.userAgent){
		if((window.navigator.userAgent.indexOf("FBAN") > -1) || (window.navigator.userAgent.indexOf("FBAV") > -1)) this.isFacebookBrowser = true;
	}else if(window.navigator.vendor){
		if((window.navigator.vendor.indexOf("FBAN") > -1) || (window.navigator.vendor.indexOf("FBAV") > -1)) this.isFacebookBrowser = true;
	}else if(window.opera){
		if((window.opera.indexOf("FBAN") > -1) || (window.opera.indexOf("FBAV") > -1)) this.isFacebookBrowser = true;
	}

    this.dev = true

    // window messaging related code
    this.eventMethod = window.addEventListener ? "addEventListener" : "attachEvent";
    this.eventer = window[this.eventMethod];
    this.messageEvent = this.eventMethod == "attachEvent" ? "onmessage" : "message";

    this.scrollElement = null
    this.isCartOpen = false

    this.log= function(message){
    	if(this.dev) console.info(message)
    }

    this.grabAnalyticCodes = function(){
    	try{
			if(window.dataLayer){ //gtag might be present
				for(var i = 0; i < window.dataLayer.length; i++){
				    if(window.dataLayer[i][0] == "config"){
					    if (window.dataLayer[i][1].substr(0,3)=='UA-' || window.dataLayer[i][1].substr(0,3)=='AW-') {
							this.MetaData.gtag_js._value = window.dataLayer[i][1];
							break;
					    }
				    }
				}
				if(!this.MetaData.gtag_js){
		        	if(window._gaq){ //tag manager support
		                this.MetaData.ga_js._value = window._gat.bb
		            }
		        }
			}else if(window.ga){ //analytics.js
				this.MetaData.analytics_js._value = {
					"trackingId" : window.ga.P[0].b.data.values[':trackingId'],
					"source" : window.ga.P[0].b.data.values[':cookieDomain']
				}
			}else if(window._gaq){ //ga.js
				this.MetaData.ga_js._value = window._gat.bb
	    	}

            if(window.fbq){
                this.MetaData.facebook._value = window.fbq.getState();
                this.MetaData.facebook._value = this.MetaData.facebook._value.pixels[0]
                if(this.MetaData.facebook._value){
                    this.MetaData.facebook._value = this.MetaData.facebook._value.id;
                }
            }

			if(this.MetaData.gtag_js != null){
		    	gtag('config', this.MetaData.gtag_js._value, {'linker': {
					'domains': ['.e-junkie.com','www.e-junkie.com', '.fatfreecartpro.com','www.fatfreecartpro.com', '.fatfreecart.com','www.fatfreecart.com'],
					'decorate_forms': true,
					'decorateForms': true
			    	}
		      	});
		      	this.MetaData.gtag_js._params = ga.getAll()[0].get("linkerParam")
		      	return true;
			}

			if(this.MetaData.analytics_js != null){
				ga('require', 'linker');
				ga('create', this.MetaData.analytics_js._value.trackingId, 'auto', {allowLinker: true});
				ga('linker:autoLink', ['.'+this.MetaData.analytics_js._value.source, '.e-junkie.com']);
				ga('linker:decorate', ['.'+this.MetaData.analytics_js._value.source, '.e-junkie.com']);
				ga('linker:autoLink', ['.'+this.MetaData.analytics_js._value.source, '.fatfreecartpro.com']);
				ga('linker:decorate', ['.'+this.MetaData.analytics_js._value.source, '.fatfreecartpro.com']);
				ga('linker:autoLink', ['.'+this.MetaData.analytics_js._value.source, '.fatfreecart.com']);
				ga('linker:decorate', ['.'+this.MetaData.analytics_js._value.source, '.fatfreecart.com']);
				ga(function(tracker) {
				  this.MetaData.analytics_js._params = tracker.get('linkerParam');
				});

				return true;
			}

		    if(this.MetaData.ga_js != null){
				_gaq.push(['_setDomainName', 'e-junkie.com']);
				_gaq.push(['_setAllowLinker', true]);
				//backward comptability
				this.MetaData.ga_js._params = '&_ejoga_params='+encodeURIComponent(_gat._getTrackerByName()._getLinkerUrl(''));
				return true;
		    }

		}catch(e){ this.log(e) }
		
		return true;		
    }

    this.escapeHTML = function(text){
		var map = {
			'&': '&amp;',
			'<': '&lt;',
			'>': '&gt;',
			'"': '&quot;',
			"'": '&#039;'
		};
		return text.replace(/[&<>"']/g, function(m) { return map[m]; });
    }

    this.setCookie = function(key, value){
    	var CookiesValidity = 10 //days
    	var t = new Date();
	    t.setTime(t.getTime());
	    var e = new Date(t.getTime() + (CookiesValidity * 24 * 60 * 60 * 1000));
	    var d = document.domain;
	    document.cookie = key + "=" + encodeURIComponent(value) + ";expires=" + e.toGMTString() + ";path=/;domain=" + d + ";"
    }

    this.getCookie = function(key){
    	var b = key + "=";
	    var d = document.cookie.split(';');
	    for (var i = 0; i < d.length; i++) {
	        var c = d[i];
	        while (c.charAt(0) == ' ') c = c.substring(1, c.length);
	        if (c.indexOf(b) == 0) return c.substring(b.length, c.length)
	    }
	    return null;
    }

    this.findParentForm = function(element){
    	if (element.action && (element.action.indexOf("gb.php") != -1 || element.action.indexOf("gb2.php") != -1 || element.action.indexOf("gbv3.php") != -1)){
	        return (element);
	    } else {
	        if (element.parentNode) {
	            return this.findParentForm(element.parentNode)
	        } else {
	            return false
	        }
    	}
    }

    this.extractURLFromForm = function(source){
    	var url = "";
        var selectTags = source.getElementsByTagName('select');
        for(var i = 0; i < selectTags.length; i++)
            url += "&"+selectTags[i].name+"="+encodeURIComponent(selectTags[i].value);
        var inputTags = source.getElementsByTagName('input');
		for(var i = 0; i < inputTags.length; i++){
		    if (inputTags[i].value) {
		        if (inputTags[i].type == 'radio' && inputTags[i].checked != true) continue;
		        url += "&"+inputTags[i].name+"="+encodeURIComponent(inputTags[i].value);
		    }
		}
		if(source.action.indexOf("?") == -1)
			return source.action+"?"+url
		else
			return source.action+url
    }

    this.getURLFromSource = function(source){
    	if(source.href)
    		return source.href
    	else{
    		source = this.findParentForm(source)
    		if(source.action)
    			return this.extractURLFromForm(source)
    		else {
    			return null
		}
    	}
    }

    this.prepareURL = function(url){
    	    var client_id;
	    var url_has_zipcode = false;
	    var url_has_country = false;
	   
	    var qs = url.split("?")[1];
	    qs = qs.replace(/\;/g,"&");
	    qs = qs.split('&');

	    // get all the basic details from the url array
	    for(var i=0; i < qs.length; i++){
	        var c = qs[i];

	        if (c.substring(0,3)=='cl='){
                	client_id=c.substring(3);
			this.clientId = client_id
		}
	        if (c.substring(0,7)=='zipcode')
	            url_has_zipcode = true;

	        if (c.substring(0,10)=='to_country')
	            url_has_country = true;
	    }
	 	
	 	//get all cookies
	 	var cart_id = this.getCookie('cart_id'+client_id);
		var cart_md5 = this.getCookie('cart_md5'+client_id);
		var cart_currency = this.getCookie('cart_currency'+client_id); 
		var to_country = this.getCookie('to_country'+client_id); 
		var zipcode = this.getCookie('zipcode'+client_id); 
		
		if(url.indexOf("?") == -1)
			url = url + "?"
		url = url + '&cart_md5=' + cart_md5 + '&cart_id=' + cart_id + '&cart_currency=' + cart_currency;   

		if(!url_has_country && to_country)
        		url = url + '&to_country=' + to_country;
	    
	    	if(!url_has_zipcode && zipcode)
	        	url = url + '&zipcode=' + zipcode;
	    
	    // backward compatibility in backend
	    var cartMetaData = {}
		if(this.MetaData.gtag_js){
			cartMetaData.gtag = this.MetaData.gtag_js._value;
			url = url + "&"+this.MetaData.gtag_js._params
		}
		if(this.MetaData.analytics_js._value){
			cartMetaData.aga = this.MetaData.analytics_js._value;
			url = url + "&"+this.MetaData.analytics_js._params
		}
		if(this.MetaData.ga_js._value){
			cartMetaData.oga = this.MetaData.ga_js._value;
			url = url + "&"+this.MetaData.ga_js._params
		}
		if(this.MetaData.facebook._value){
			cartMetaData.fbp = this.MetaData.facebook._value;
		}
	    url = url + '&cart_metadata='+encodeURIComponent(JSON.stringify(cartMetaData))
	    url = url + "&initialize"

	    return url
    }

    this.closeCart = function(){
    	this.isCartOpen = false;
    	this.cartIframeElement.style.display = "none";
    	this.cartIframeElement.src = "//about:blank";
    	this.enablePageScroll();
	this.updateHash("")
	if(this.params.standalone){
		try {
			var histlen = history.length;
			var opener = null;
			var hist = false;
			if(window.opener=='undefined' || window.opener==null) {
				opener=false;
			} else {
				opener=true;
			}
			// safari starts from 1
			if (navigator.appVersion.toLowerCase().indexOf("safari")!=-1 || navigator.userAgent.toLowerCase().indexOf("firefox")!=-1) {
				histlen-=1;
			}
			if (histlen>0 && !opener) {
					hist=true;
			} else {
					hist=false;
			}
			if (hist) {
				 history.back();
			} else {
				window.close();
			}
		} catch (err) {
			window.close();
		}
		//window.close()	
	}
    }

    this.handleStateChange = function(){
	if(this.isMobile && !this.params.standalone){
		if(typeof window.history.pushState === "undefined")
	        	var state = window.location.hash.replace("#", "")
		else{
			this.historyState.pop()
			var state = this.historyState[this.historyState.length-1]
		}	
		if(!state) var state = ""
		switch(state){
			case "#EJCart":                 		
				if(this.clientId){
                        		this.isCartOpen = false
                        		this.openCart("https://www.e-junkie.com/ecom/gbv3.php?ejc=2&c=cart&cl="+self.clientId)
				}else this.closeCart()
				break;
			case "#EJCC": break;
			case "":  this.closeCart(); break;
		}	
	}
	return;
    }

    this.updateHash = function(v){
	if(this.isMobile){
		if(typeof window.history.pushState === "undefined"){ //go old school, hashbangs
			if(window.location.hash == v) return;
			window.location.hash = v;	
		}else{ //use history api
			var url = window.location.href.split("#")[0]
			if(v == ""){
				this.historyState = []
				window.history.replaceState(null, null, url)
				return;
			}
			url = url + v
			if(window.history.length <= 2){
				window.history.pushState(null, null, url)
				this.historyState.push(v)	
			}else{
				if(this.historyState.indexOf(v) == -1)
					this.historyState.push(v)	
				else
					this.historyState = this.historyState.splice(0, this.historyState.indexOf(v)+1)
				window.history.replaceState(null, null, url)
			}
		}
	}
	return;
    }

    this.showCart = function(){
	if(!this.params.standalone){
	    	this.cartIframeElement.style.display = "block";
		this.updateHash("#EJCart")
	}
	else
	    	this.cartIframeElement.style.display = "none";	
    	this.disablePageScroll();
    }

    this.getCartJSON = function(clientId, cb, url){
	if(typeof cb === "function");
	else return;

	if(isNaN(clientId) && !url) return;

	var cbToken = +new Date()

	if(!url){
		this.clientId = clientId
    		url = "https://www.e-junkie.com/ecom/gbv3.php?c=cart&ejc=2&cl="+clientId
		//url = this.prepareURL(url)							
	}

	url = this.prepareURL(url)
	url = url+"&json&cb="+cbToken

	var s = document.createElement("script");
	s.src = url
	s.type = "text/javascript"
	s.onload = function(){ 
			cb(window["EJResponseJSON_"+cbToken]); 
	}
	document.getElementsByTagName("head")[0].appendChild(s)

	return;
    }

    this.openCart = function(source){

    	//if(this.isCartOpen) return true;

    	this.grabAnalyticCodes()
    	var url = null;
    	if(typeof source == "string")
    		url = source
	else if(typeof source == "object")
		url = this.getURLFromSource(source)
	if(url);
	else
		return false;

	if(this.params.behavior == "minimal" && url.indexOf("ejc=2") != -1 && url.indexOf("i=") != -1 && !this.isCartOpen){
		self.toggleSnackBar(true, "Adding Product to Cart", true)		
		this.getCartJSON(null, function(res){
			if(res.Cart.Errors.length == 0){
				var h = "Product added to Cart <br/><a onclick='EJCart.openCart(\"https://www.e-junkie.com/ecom/gbv3.php?c=cart&ejc=2&cl="+res.Client.client_id+"\")'>View Cart</a>"
				self.toggleSnackBar(true, h, false)
				self.setCookie("cart_id"+res.Client.client_id, res.Cart.Metadata.id)
                                self.setCookie("cart_md5"+res.Client.client_id, res.Cart.Metadata.md5)
                                self.setCookie("cart_currency"+res.Client.client_id, res.Cart.Metadata.currency)
                                if(res.Cart.Metadata.shipping.zipcode)
                                        self.setCookie("zipcode"+res.Client.client_id, res.Cart.Metadata.shipping.zipcode)
                                if(res.Cart.Metadata.shipping.country)
                                        self.setCookie("to_country"+res.Client.client_id, res.Cart.Metadata.shipping.country)
			}else{
				var h = "Failed to add product! <br/>"+res.Cart.Errors[0] 
				self.toggleSnackBar(true, h, false)
			}
		}, url)	
		return true;				
	}

	self.toggleSnackBar(false)

	this.isCartOpen = true;

	url = this.prepareURL(url)
	if(this.params)
		url = url + "&pref=" +  encodeURIComponent(JSON.stringify({
							language: this.params.language, 
							theme: this.params.theme,
							themeColor: this.params.themeColor,
							customLanguage: this.params.customLanguage,
							layout: (window.innerWidth <= 700 ? "overlay" : this.params.layout),
						}))

	//temp purpose
	url = url.replace("gb.php", "gbv3.php")
	url = url.replace("gb2.php", "gbv3.php")

	if(url.indexOf("c=single") != -1){
        	window.location.href = url
                this.isCartOpen = false;
                return true;
        }

	// check if the url has `single` or `cc` and if the page is `https://` load the cc page in the page itself or else load inside an iframe
	if(!this.host.secure){
		if(url.indexOf("c=cc") != -1){
			window.location.href = url
			this.isCartOpen = false;
			return true;
		}
	}
	this.toggleLoader(true)
	this.cartIframeElement.src = url
	return true
    }	

    this.toggleLoader = function(x, y){
	if(typeof y === "undefined") y = false
	if(this.params.layout != "overlay") y = false

    	if(x){
		this.loaderElement.style.display = "block";
		if(!y)
		this.cartIframeElement.style.display = "none";
	}else{
		this.loaderElement.style.display = "none";
		if(!this.params.standalone)
			this.cartIframeElement.style.display = "block";
	}
    }

    this.toggleSnackBar = function(s, h, l){
	if(s)
		this.snackbarElement.style.display = "block";
	else	
		this.snackbarElement.style.display = "none";

	if(h) 
		this.snackbarElement.querySelector(".EJSnackBarV3-Content").innerHTML = h

	if(l)
		this.snackbarElement.querySelector(".EJSnackBarV3-Loader").style.opacity = "1"
	else
		this.snackbarElement.querySelector(".EJSnackBarV3-Loader").style.opacity = "0"
    }

    this.disablePageScroll = function(element){
	if(this.params.layout != "overlay") return;
	if(this.scrollElement) return;
	var possibleValues = ["scroll", "visible", "auto"]
    	// store body or html scroll property changed, to toggle it when cart is closed
    	if(possibleValues.indexOf(window.getComputedStyle(document.querySelector("html")).getPropertyValue("overflow-y").toLowerCase()) != -1 ){
    		this.scrollElement = "html"
    		document.querySelector("html").style.overflowY = "hidden";
    	}else if(possibleValues.indexOf(window.getComputedStyle(document.querySelector("body")).getPropertyValue("overflow-y").toLowerCase()) != -1){
    		this.scrollElement = "body"
    		document.body.style.overflowY = "hidden"
    	}
    	return false;
    }

    this.enablePageScroll = function(){
	if(this.params.layout != "overlay") return;
    	if(this.scrollElement){
    		if(this.scrollElement == "html")
	    		document.querySelector("html").style.overflowY = "scroll";
    		else	
    			document.body.style.overflowY = "scroll"
		this.scrollElement = null
    	}
    }

    this.loadURL = function(url, type){
	if(this.params.standalone)
		window.location.href = url
	else if(type == "standalone"){
		this.toggleLoader(true)
		window.location.href = url
	}else{
		this.toggleLoader(true)
		if(url.indexOf("rp.php") != -1) url = url + "&nobanner=true&standalone=true"
		this.cartIframeElement.src = url
	}
    }

    this.scrollTo = function(x){
	window.scroll(null, x)	
    }

    this.sendMessage = function(data){
	var EJCartMessage = {
		data: data,
		src: "cart",
	}
        window.postMessage({"EJCartMessage": EJCartMessage}, "*")
    	return true;
    }

    this.handleMessages = function(payload){
	switch (payload.data.event){
		case "Proceed Payment":
			var type = null;
			if(payload.data.data.processor == "Paypal") type = "standalone"
			if(payload.data.data.processor == "Paypal Credit") type = "standalone"
			if(!this.host.secure) type = "standalone"
			if(this.params.standalone || type == "standalone")
				this.loadURL(payload.data.data.url, type)
			else{
				this.loadURL(payload.data.data.url+"&initialize", type)
			}
			break;
	
		case "Cart Loaded": 
			this.showCart(); 
			this.toggleLoader(false); 
			if(payload.data.data){
				this.setCookie("cart_id"+payload.data.data.Client.client_id, payload.data.data.Cart.Metadata.id)
				this.setCookie("cart_md5"+payload.data.data.Client.client_id, payload.data.data.Cart.Metadata.md5)
				this.setCookie("cart_currency"+payload.data.data.Client.client_id, payload.data.data.Cart.Metadata.currency)
				if(payload.data.data.Cart.Metadata.shipping.zipcode)
					this.setCookie("zipcode"+payload.data.data.Client.client_id, payload.data.data.Cart.Metadata.shipping.zipcode)
				if(payload.data.data.Cart.Metadata.shipping.country)
					this.setCookie("to_country"+payload.data.data.Client.client_id, payload.data.data.Cart.Metadata.shipping.country)
			
			}

			if(this.params.events.onload) this.params.events.onload(payload.data.data)
			break;
	
		case "Cart Updating": this.toggleLoader(true, true); break;
		
		case "Close Cart": 
			this.closeCart(); 
			if(this.params.events.onclose) this.params.events.onclose()
			break;

		case "Load URL": this.loadURL(payload.data.data.url, payload.data.data.type); break;

		case "CC Loaded": 
			this.updateHash("#EJCC")
    			this.disablePageScroll();
			this.toggleLoader(false);
			this.scrollTo(0);
			break;

		case "Window Resize": 
			this.cartIframeElement.style.height = (payload.data.data+30)+"px"
			this.loaderElement.style.height = (payload.data.data+30)+"px"
			break;

		case "URL Loaded": 
			this.toggleLoader(false); 
			this.scrollTo(0);
			break;

		case "Scroll":
			this.scrollTo(payload.data.data);
			break;
	}
	 return true;
    }

    var self = this

    	// bind window messaging event and keyboard event
    	window.addEventListener(this.messageEvent, function(e){
	    try{
		if(typeof e.data == "object"){
			var payload = e.data.EJCartMessage
                        if(payload == null) return false;
			if(payload.src != "cart-inline" && payload.src != "cart-cc") return false;
			self.handleMessages(payload)
			return true
		}
		return false;	    	
	    }catch(err){ self.log(err); }
	},false);

	window.addEventListener("keyup", function(e){
		if(e.keyCode == 27) {
			self.closeCart()
		}
	}, false);

	window.addEventListener("hashchange", function(e){
		if(self.params.standalone) return;
		self.handleStateChange()
	}, false);

	var layoutClassName = "EJOverlayV3"
	if(this.params.layout == "overlay") layoutClassName = "EJOverlayV3"
	else if(this.params.layout == "sidebar") layoutClassName = "EJSideBarV3"

	//cart iframe
	this.cartIframeElement = document.createElement("iframe");
	this.cartIframeElement.className = "EJIframeV3 "+layoutClassName
	this.cartIframeElement.src = "//about:blank"
	document.body.appendChild(this.cartIframeElement)
	
	//loader iframe
	this.loaderElement = document.createElement("div");
	this.loaderElement.className = "EJLoaderV3 "+layoutClassName
	document.body.appendChild(this.loaderElement)
	//this.loaderElement.innerHTML = '<div style="border: 1vh solid rgba('+this.params.themeColor+', 0.6);border-top-color: rgba('+this.params.themeColor+', 1);"></div>'
	this.loaderElement.innerHTML = '<div style="border: 1vh solid rgba(49, 152, 223, 0.6);border-top-color: rgba(49, 152, 223, 1);"></div>'

	//snackbar
	this.snackbarElement = document.createElement("div");
	this.snackbarElement.className = "EJSnackBarV3"
	this.snackbarElement.innerHTML = '<div class="EJSnackBarV3-Loader"></div><div class="EJSnackBarV3-Content"></div><close onclick="EJCart.toggleSnackBar(false)"><svg height="15px" width="15px" viewPort="0 0 12 12" version="1.1" xmlns="http://www.w3.org/2000/svg"><line x1="1" y1="11" x2="11" y2="1" stroke="white" stroke-width="2"/><line x1="1" y1="1"  x2="11" y2="11" stroke="white" stroke-width="2"/></svg></close>'
	document.body.appendChild(this.snackbarElement)
		
	this.log("Cart Object Initialized");
}


function EJEJC_lc(source){
	if(typeof EJCart === "undefined" || !EJCart){
		//EJCart = new EJCartV3(window.EJConfig);
		return;
	} 
	if(EJCart.openCart(source)){
		return false
	}else{ 
		return true;
	}
}

function EJEJC_frm(ele){
	EJEJC_lc(ele);
	return false;
}


//add style tag with styles first
var EJStyleEle = document.createElement("style");
EJStyleEle.type = "text/css"
EJStyleEle.innerHTML = ".EJLoaderV3, .EJIframeV3{position: fixed;top: 0;bottom: 0;height: 100%;display: none;z-index: 99999;border:none;padding:0px;}.EJIframeV3.EJSideBarV3{ position: absolute;}.EJLoaderV3{background: rgba(0,0,0,0.7);}.EJLoaderV3 div{width: 15vh;height: 15vh;background: transparent;border-radius: 100px;animation: EJLoaderV3 1.2s infinite linear;margin: 0 auto;margin-top: 25vh;}.EJOverlayV3{left: 0;right: 0;width: 100%;}.EJSideBarV3{right: 0;width: 400px;}@media(max-width: 700px){.EJSideBarV3{	width: 100% !important;	left: 0;	right: 0;    		max-height: 100%;    		margin: 0 auto;		margin-left: 0px;}	}@media(min-width: 700px){.EJSideBarV3 {    border-radius: 5px !important;  height: 400px;    width: 380px;    margin-right: 10px;    margin-top: 10px;}	.EJSideBarV3 div{    margin-top: 15vh;    width: 10vh;    height: 10vh;}.EJLoaderV3.EJSideBarV3{ box-shadow: 0 10px 20px rgba(0,0,0,0.19), 0 6px 6px rgba(0,0,0,0.23); background: rgba(255, 255, 255, 0.5); width: 360px; margin-left: 10px; margin-right: 20px; }}@keyframes EJLoaderV3{0% { transform: rotate(0deg); }25% { transform: rotate(90deg); }50% { transform: rotate(180deg); }100% { transform: rotate(360deg); }}.EJSnackBarV3{display: none;width: 300px;position: fixed;background: #253e4a;border-radius: 3px;padding: 5px 10px;box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);bottom: 20px;right: 20px;}.EJSnackBarV3 close{width: 10px;height: 10px;cursor: pointer;display: inline-block;vertical-align: top;margin-left: 10px;}.EJSnackBarV3-Loader {width: 20px;height: 20px;background: transparent;display: inline-block;border: 2px solid #fff;border-radius: 100%;border-top: 2px solid rgba(255,255,255,0.4);animation: EJLoaderV3 1.2s infinite linear;vertical-align: middle;}.EJSnackBarV3-Content{ display: inline-block;width: calc(100% - 40px);margin: 0 auto;color: white;font-size: 15px;text-align: center;padding: 0px 10px;vertical-align: middle;font-family: inherit;}.EJSnackBarV3-Content a{ color: white !important;font-weight: bold;}"
document.querySelector("head").appendChild(EJStyleEle)

try{
jQuery(document).ready(function() {
    ejejc_jQuery('a.ej_ejc_ithkbx').click(function() {
        return EJEJC_ilc(this)
    });
    ejejc_jQuery('input.ej_ejc_ithkbx').click(function() {
        return EJEJC_ilc(this.parentNode)
    });
    ejejc_jQuery('a.ej_ejc_jthkbx').click(function() {
        return EJEJC_jlc(this)
    });
    ejejc_jQuery('input.ej_ejc_jthkbx').click(function() {
        return EJEJC_jlc(this.parentNode)
    });
    ejejc_jQuery('a.ec_ejc_thkbx,input.ec_ejc_thkbx').each(function(i) {
        if (ejejc_jQuery(this).attr("href")) {
            if (!ejejc_jQuery(this).attr("onClick")) {
                ejejc_jQuery(this).click(function() {
                    return EJEJC_lc(this)
                })
            }
        } else {
            if (!ejejc_jQuery(this).attr("onClick")) {
                ejejc_jQuery(this).click(function() {
                    return EJEJC_lc(this.parentNode)
                })
            }
            if (this.parentNode && !ejejc_jQuery(this).attr("onClick")) {
                if (ejejc_jQuery(this.parentNode).attr("action")) {
                    if (!ejejc_jQuery(this.parentNode).attr("onSubmit")) {
                        ejejc_jQuery(this.parentNode).submit(function() {
                            return EJEJC_lc(this)
                        })
                    }
                }
            }
        }
    });
});
}catch(e){}

function EJEJC_multiAdd2(arr){
	EJEJC_multiAdd(arr)
}

function EJEJC_multiAdd(arr, pos){
	EJCart.toggleLoader(true)
	if(typeof pos === "undefined") pos = 0
	if(pos == arr.length-1){
		EJCart.openCart(arr[pos])
		return true;
	}else{
		EJCart.getCartJSON(null, function(res){
            		if(res.Cart.Errors.length == 0){
                    		EJCart.setCookie("cart_id"+res.Client.client_id, res.Cart.Metadata.id)
                    		EJCart.setCookie("cart_md5"+res.Client.client_id, res.Cart.Metadata.md5)
                    		EJCart.setCookie("cart_currency"+res.Client.client_id, res.Cart.Metadata.currency)
                    		if(res.Cart.Metadata.shipping.zipcode)
                            		EJCart.setCookie("zipcode"+res.Client.client_id, res.Cart.Metadata.shipping.zipcode)
                    		if(res.Cart.Metadata.shipping.country)
                            		EJCart.setCookie("to_country"+res.Client.client_id, res.Cart.Metadata.shipping.country)
                    		EJEJC_multiAdd(arr, ++pos)
            		}
	   	 }, arr[pos])		
	}
}

if(document.body)
	var EJCart = new EJCartV3(window.EJConfig)
else
	var EJCart = null

if(EJCart == null){
	if(window.addEventListener){
		window.addEventListener("DOMContentLoaded", function() {
			EJCart = new EJCartV3(window.EJConfig);
		}, false);
	}else if(window.attachEvent){
		window.attachEvent('onreadystatechange', function(){
			EJCart = new EJCartV3(window.EJConfig);
		});
	}else {
		EJCart = new EJCartV3(window.EJConfig);
	}
}

</script>

</body></html>